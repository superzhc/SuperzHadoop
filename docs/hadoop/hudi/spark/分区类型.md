# 分区类型

## 非日期格式单字段分区

```scala
df.write.format("hudi")
  .option(PARTITIONPATH_FIELD.key, "day")
  
  // 同步hive配置
  .option(HIVE_PARTITION_FIELDS.key, "day")
  //如果分区格式不是yyyy/mm/dd ，需要指定解析类将分区列解析到Hive中
  //配置参数hoodie.datasource.hive_sync.partition_extractor_class
  .option(HIVE_PARTITION_EXTRACTOR_CLASS.key, classOf[MultiPartKeysValueExtractor].getName)
```

## 日期格式单字段分区

```scala
df.write.format("hudi")
  .option(PARTITIONPATH_FIELD.key, "day")
  
  // 同步hive配置
  .option(HIVE_PARTITION_FIELDS.key, "day")
  //如果分区格式不是yyyy/mm/dd ，需要指定解析类将分区列解析到Hive中
  //配置参数hoodie.datasource.hive_sync.partition_extractor_class
  .option(HIVE_PARTITION_EXTRACTOR_CLASS.key, classOf[SlashEncodedDayPartitionValueExtractor].getName)
```

## 多字段分区

```scala
df.write.format("hudi")
  .option(PARTITIONPATH_FIELD.key, "f1,f2")
  // 注意多字段分区，需要配置如下参数，该参数控制 recordkey、partitionpath
  .option(KEYGENERATOR_CLASS_NAME.key, classOf[ComplexKeyGenerator].getName)
  
  // 同步hive配置
  .option(HIVE_PARTITION_FIELDS.key, "f1,f2")
  //如果分区格式不是yyyy/mm/dd ，需要指定解析类将分区列解析到Hive中
  //配置参数hoodie.datasource.hive_sync.partition_extractor_class
  .option(HIVE_PARTITION_EXTRACTOR_CLASS.key, classOf[SlashEncodedDayPartitionValueExtractor].getName)
```

## 不分区

```scala
df.write.format("hudi")
  .option(PARTITIONPATH_FIELD.key, "")
  // 注意多字段分区，需要配置如下参数，该参数控制 recordkey、partitionpath
  .option(KEYGENERATOR_CLASS_NAME.key, classOf[NonpartitionedKeyGenerator].getName)
  
  // 同步hive配置
  .option(HIVE_PARTITION_FIELDS.key, "")
  //如果分区格式不是yyyy/mm/dd ，需要指定解析类将分区列解析到Hive中
  //配置参数hoodie.datasource.hive_sync.partition_extractor_class
  .option(HIVE_PARTITION_EXTRACTOR_CLASS.key, classOf[NonPartitionedExtractor].getName)
```