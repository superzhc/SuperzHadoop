# 进程监控

## 进程详细信息

> Linux 在启动一个进程时，系统会在 `/proc` 下创建一个以进行 PID 命名的目录，在该目录下保存着该进程的各种信息。

`/proc/${PID}` 目录如下：

- cmdline：启动当前进程的完整命令，但僵尸进程目录中的此文件不包含任何信息；
- cwd：指向当前进程运行目录的一个符号链接；
- environ：当前进程的环境变量列表，彼此间用空字符（NULL）隔开；变量用大写字母表示，其值用小写字母表示；
- exe：指向启动当前进程的可执行文件（完整路径）的符号链接，通过 `/proc/PID/exe` 可以启动当前进程的一个拷贝；
- fd：这是个目录，包含当前进程打开的每一个文件的文件描述符（file descriptor），这些文件描述符是指向实际文件的一个符号链接；
- limits：当前进程所使用的每一个受限资源的软限制、硬限制和管理单元；此文件仅可由实际启动当前进程的UID用户读取；（2.6.24以后的内核版本支持此功能）；
- maps：当前进程关联到的每个可执行文件和库文件在内存中的映射区域及其访问权限所组成的列表；
- mem：当前进程所占用的内存空间，由open、read和lseek等系统调用使用，不能被用户读取；
- root：指向当前进程运行根目录的符号链接；在Unix和Linux系统上，通常采用chroot命令使每个进程运行于独立的根目录；
- stat：当前进程的状态信息，包含一系统格式化后的数据列，可读性差，通常由ps命令使用；
- statm：当前进程占用内存的状态信息，通常以“页面”（page）表示；
- status：与stat所提供信息类似，但可读性较好，如下所示，每行表示一个属性信息；其详细介绍请参见 proc的man手册页；
- task：目录文件，包含由当前进程所运行的每一个线程的相关信息，每个线程的相关信息文件均保存在一个由线程号（tid）命名的目录中，这类似于其内容类似于每个进程目录中的内容（内核2.6版本以后支持此功能）