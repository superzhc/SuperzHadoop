# 配置代理

```shell
## 获取主机 IP
## 主机 IP 保存在 /etc/resolv.conf 中
export WIN_HOST_IP=$(cat /etc/resolv.conf |grep -oP '(?<=nameserver\ ).*')

# 注意修改成主机上代理VPN监控的端口
export https_proxy="http://${WIN_HOST_IP}:10811"
export HTTP_PROXY="http://${WIN_HOST_IP}:10811"
export http_proxy="http://${WIN_HOST_IP}:10811"
export HTTP_PROXY="http://${WIN_HOST_IP}:10811"

#========wget使用all_proxy好像没用，将上面也给配上========#
export all_proxy="http://${WIN_HOST_IP}:10811"
export ALL_PROXY="http://${WIN_HOST_IP}:10811"

# 如果是 socket5 协议的话
export http_proxy="socks5://${WIN_HOST_IP}:10808"
export https_proxy="socks5://${WIN_HOST_IP}:10808"

# 如果端口一样就可以合并成一句话，http 的同理
export all_proxy="socks5://${WIN_HOST_IP}:10808"
```

**注意：** 

1. 若需要一直开启代理，可将上面的操作写入到 `.bashrc` 中。
2. 使用局域网端口号

![](images/配置代理-20230426141350.png)

**取消代理设置**

```shell
unset http_proxy
unset HTTP_PROXY
unset https_proxy
unset HTTPS_PROXY
```