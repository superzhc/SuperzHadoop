# Linux 查看端口占用情况

## `lsof`

lsof(list open files)是一个列出当前系统打开文件的工具。

lsof 查看端口占用语法格式：

```sh
lsof -i:端口号
```

`lsof -i` 需要 root 用户的权限来执行，如下图：

![](images/查看端口占用情况-20230220101704.png)

**示例**

```sh
lsof -i:8080：查看8080端口占用
lsof abc.txt：显示开启文件abc.txt的进程
lsof -c abc：显示abc进程现在打开的文件
lsof -c -p 1234：列出进程号为1234的进程所打开的文件
lsof -g gid：显示归属gid的进程情况
lsof +d /usr/local/：显示目录下被进程开启的文件
lsof +D /usr/local/：同上，但是会搜索目录下的目录，时间较长
lsof -d 4：显示使用fd为4的进程
lsof -i -U：显示所有打开的端口和UNIX domain文件
```

## `netstat`

`netstat -tunlp` 用于显示 tcp，udp 的端口和进程等相关情况。

netstat 查看端口占用语法格式：

```sh
netstat -tunlp | grep 端口号
```