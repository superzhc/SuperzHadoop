常见的 Shell 算数运算符，如下表所示：

| 算术运算符            | 说明/含义                                                |
| --------------------- | -------------------------------------------------------- |
| +、-                  | 加法（或正号）、减法（或负号）                           |
| *、/、%               | 乘法、除法、取余（取模）                                 |
| **                    | 幂运算                                                   |
| ++、--                | 自增和自减，可以放在变量的前面也可以放在变量的后面       |
| !、&&、\|\|           | 逻辑非（取反）、逻辑与（and）、逻辑或（or）              |
| <、<=、>、>=          | 比较符号（小于、小于等于、大于、大于等于）               |
| ==、!=、=             | 比较符号（相等、不相等；对于字符串，= 也可以表示相当于） |
| <<、>>                | 向左移位、向右移位                                       |
| ~、\|、 &、^          | 按位取反、按位或、按位与、按位异或                       |
| =、+=、-=、*=、/=、%= | 赋值运算符，例如 a+=1 相当于 a=a+1，a-=1 相当于 a=a-1    |

但是，Shell 和其它编程语言不同，在默认情况下，Shell 不会直接进行算数运算，而是把 `+` 两边的数据（数值或变量）当作字符串，把`+`当做字符串连接符，最终的结果是把两个字符串拼接在一起形成一个新的字符串。这是因为，**在 Bash Shell 中，如果不特别指明，每一个变量的值都是字符串，无论你给变量赋值时有没有使用引号，值都会以字符串的形式存储**。 因此要想让数学计算发挥作用，必须使用数学计算命令，Shell 中常用的数学计算命令如下表所示。

| 运算操作符/运算命令 | 说明                                                         |
| ------------------- | ------------------------------------------------------------ |
| `(( ))`             | 用于整数运算，效率很高，**推荐使用**。                       |
| let                 | 用于整数运算，和 (()) 类似。                                 |
| `$[]`               | 用于整数运算，不如 (()) 灵活。                               |
| expr                | 可用于整数运算，也可以处理字符串。比较麻烦，需要注意各种细节，不推荐使用。 |
| bc                  | Linux下的一个计算器程序，可以处理整数和小数。Shell 本身只支持整数运算，想计算小数就得使用 bc 这个外部的计算器。 |
| declare -i          | 将变量定义为整数，然后再进行数学运算时就不会被当做字符串了。功能有限，仅支持最基本的数学运算（加减乘除和取余），不支持逻辑运算、自增自减等，所以在实际开发中很少使用。 |

## Shell `(())`：对整数进行数学运算

双小括号 `(( ))` 是 Bash Shell 中专门用来进行整数运算的命令，它的效率很高，写法灵活，是企业运维中常用的运算命令。

> 注意：`(( ))` 只能进行整数运算，不能对小数（浮点数）或者字符串进行运算。

双小括号 `(( ))` 的语法格式为：

```
((表达式))
```

通俗地讲，就是将数学运算表达式放在`((`和`))`之间。

表达式可以只有一个，也可以有多个，多个表达式之间以逗号`,`分隔。对于多个表达式的情况，以最后一个表达式的值作为整个 `(( ))` 命令的执行结果。

可以使用`$`获取 `(( ))` 命令的结果，这和使用`$`获得变量值是类似的。

| 运算操作符/运算命令                      | 说明                                                         |
| ---------------------------------------- | ------------------------------------------------------------ |
| ((a=10+66) ((b=a-15)) ((c=a+b))          | 这种写法可以在计算完成后给变量赋值。以 ((b=a-15)) 为例，即将 a-15 的运算结果赋值给变量 c。  注意，使用变量时不用加`$`前缀，`(( ))` 会自动解析变量名。 |
| `a=$((10+66)` `b=$((a-15))` `c=$((a+b))` | 可以在 `(( ))` 前面加上`$`符号获取 `(( ))` 命令的执行结果，也即获取整个表达式的值。以 c=`$((a+b))` 为例，即将 a+b 这个表达式的运算结果赋值给变量 c。  注意，类似 c=((a+b)) 这样的写法是错误的，不加`$`就不能取得表达式的结果。 |
| ((a>7 && b==c))                          | `(( ))` 也可以进行逻辑运算，在 if 语句中常会使用逻辑运算。   |
| echo `$((a+10))`                         | 需要立即输出表达式的运算结果时，可以在 `(( ))` 前面加`$`符号。 |
| ((a=3+5, b=a+10))                        | 对多个表达式同时进行计算。                                   |


在 `(( ))` 中使用变量无需加上`$`前缀，`(( ))` 会自动解析变量名，这使得代码更加简洁，也符合程序员的书写习惯。