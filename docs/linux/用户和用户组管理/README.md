# 用户和用户组

Linux 是多用户多任务操作系统，换句话说，Linux 系统支持多个用户在同一时间内登陆，不同用户可以执行不同的任务，并且互不影响。

不同用户具有不问的权限，毎个用户在权限允许的范围内完成不间的任务，Linux 正是通过这种权限的划分与管理，实现了多用户多任务的运行机制。

## 用户和组的关系

用户和用户组的对应关系有以下 4 种：

1. 一对一：一个用户可以存在一个组中，是组中的唯一成员；
2. 一对多：一个用户可以存在多个用户组中，此用户具有这多个组的共同权限；
3. 多对一：多个用户可以存在一个组中，这些用户具有和组相同的权限；
4. 多对多：多个用户可以存在多个组中，也就是以上 3 种关系的扩展。

## `/etc/passwd` 文件

Linux 系统中的 `/etc/passwd` 文件，是系统用户配置文件，存储了系统中所有用户的基本信息，并且所有用户都可以对此文件执行读操作。

示例：

```bash
[root@namenode flink]# cat /etc/passwd
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
...
```

可以看到，`/etc/passwd` 文件中的内容非常规律，每行记录对应一个用户。

> 注：Linux 系统中会默认创建一些**系统用户**或**伪用户**，这些用户中的绝大多数是系统或服务正常运行所必需的用户。*系统用户无法用来登录系统，但也不能删除，因为一旦删除，依赖这些用户运行的服务或程序就不能正常执行，会导致系统问题*。

每行用户信息都已 `:` 作为分隔符，划分为 7 个字段，每个字段所表示的含义如下：

```bash
用户名:密码:UID（用户ID）:GID（组ID）:描述性信息:主目录:默认Shell
```

**密码**

"x" 表示此用户设有密码，但不是真正的密码，真正的密码保存在 `/etc/shadow` 文件中。

**主目录**

也就是用户登录后有操作权限的访问目录，通常称为用户的主目录。

**默认的 Shell**

Shell 就是 Linux 的命令解释器，是用户和 Linux 内核之间沟通的桥梁。

## `/etc/group` 文件

`/ect/group` 文件是用户组配置文件，即用户组的所有信息都存放在此文件中。

示例:

```bash
[root@namenode flink]# cat /etc/group
root:x:0:
bin:x:1:
daemon:x:2:
...
```

可以看到，此文件中每一行各代表一个用户组。

各用户组中，还是以 `:` 作为字段之间的分隔符，分为 4 个字段，每个字段对应的含义为：

```bash
组名:密码:GID:该用户组中的用户列表
```

## 用户组操作

[添加用户组](添加用户组.md ':include')

[修改用户组](修改用户组.md ':include')

[删除用户组](删除用户组.md ':include')

## 用户操作

[新增用户](新增用户.md ':include')

[修改用户信息](修改用户信息.md ':include')

[修改用户密码](修改用户密码.md ':include')

[删除用户](删除用户.md ':include')

[查看用户的 UID 和 GID](查看用户的UID和GID.md ':include')

[用户间切换](用户间切换.md ':include')