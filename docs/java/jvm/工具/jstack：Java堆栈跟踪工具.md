# jstack：Java 堆栈跟踪工具

> jstack(Stack Trace for Java)命令用于生成虚拟机当前时刻的线程快照（一般称为 threaddump 或者 javacore 文件）。线程快照就是当前虚拟机内每一条线程正在执行的方法堆栈的集合，生成线程快照的主要目的是定位线程出现长时间停顿的原因，如线程间死锁、死循环、请求外部资源导致长时间等待等都是导致线程长时间停顿的常见原因。线程出现停顿的时候通过 jstack 来查看各个线程的调用堆栈，就可以知道没有响应的线程到底在后台做什么事情，或者等待什么资源。
>
> jstack 命令格式：
>
> ```sh
> jstack [option] <pid>
> ```
>
> 选项：
>
> | 选项 | 作用                                          |
> | :--: | --------------------------------------------- |
> | `-F` | 当正常输出的请求不被响应时，强制输出线程堆栈  |
> | `-l` | 除堆栈外，显示关于锁的附加信息                |
> | `-m` | 如果调用到本地方法的话，可以显示 C/C++ 的堆栈 |