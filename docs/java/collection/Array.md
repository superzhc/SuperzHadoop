# 数组

Java语言中，数组是一种最简单的复合数据类型。数组是有序数据的集合，数组中的每个元素具有相同的数据类型，可以用一个统一的数组名和下标来唯一地确定数组中的元素。数组有一维数组和多维数组。

Array的定义和使用：使用`[]`作为索引运算符（indexing operator）。

不管在其他语言中数组是什么，在Java语言中**数组就是对象** 。

注：数组没有对应的类文件，String对应String.class.但是数组却没有，而且它们的类名字很古怪，可以这样获得 `new int[2].getClass().getName();` 这是和其他对象最大的不同点，因为数组类是在运行时生成的。

## 使用

数组的使用方法无非就是四个步骤：声明数组、分配空间、赋值、处理。

1. 声明数组：就是告诉计算机数组的类型是什么。有两种形式：`int[] array`、`int array[]`。
2. 分配空间：告诉计算机需要给该数组分配多少连续的空间，记住是连续的。`array = new int[10]`;
3. 赋值：赋值就是在已经分配的空间里面放入数据。`array[0] = 1;array[1] = 2……` 其实分配空间和赋值是一起进行的，也就是完成数组的初始化。有如下三种形式：
    ```java
    int a[] = new int[2];    //默认为0,如果是引用数据类型就为null
    int b[] = new int[] {1,2,3,4,5};
    int c[] = {1,2,3,4,5};
    ```
4. 处理：就是对数组元素进行操作。通过*数组名+有效的下标*来确认数据。

## 数组的性能

数组与其他种类的容器之间的区别有三个方面：效率、类型和保存基本类型的能力。在Java中，数组是一种效率最高的存储和随机访问对象引用序列的方式。

> PS：集合类的底层也都是通过数组来实现的。
>

Array是Java特有的数组。在知道所要处理数据元素个数的情况下非常好用。`java.util.Arrays` 包含了许多处理数据的实用方法：

- `Arrays.asList`：可以从 Array 转换成 List。可以作为其他集合类型构造器的参数。
- `Arrays.binarySearch`：在一个已排序的或者其中一段中快速查找。
- `Arrays.copyOf`：如果你想扩大数组容量又不想改变它的内容的时候可以使用这个方法。【数组的拷贝是浅拷贝】
- `Arrays.copyOfRange`：可以复制整个数组或其中的一部分。
- `Arrays.deepEquals`、`Arrays.deepHashCode`：Arrays.equals/hashCode的高级版本，支持子数组的操作。
- `Arrays.equals`：如果你想要比较两个数组是否相等，应该调用这个方法而不是数组对象中的 equals方法（数组对象中没有重写 `equals()` 方法，所以这个方法之比较引用而不比较内容）。这个方法集合了Java 5的自动装箱和无参变量的特性，来实现将一个变量快速地传给 `equals()` 方法——所以这个方法在比较了对象的类型之后是直接传值进去比较的。
- `Arrays.fill`：用一个给定的值填充整个数组或其中的一部分。
- `Arrays.hashCode`：用来根据数组的内容计算其哈希值（数组对象的hashCode()不可用）。这个方法集合了Java 5的自动装箱和无参变量的特性，来实现将一个变量快速地传给 `Arrays.hashcode` 方法——只是传值进去，不是对象。
- `Arrays.sort`：对整个数组或者数组的一部分进行排序。也可以使用此方法用给定的比较器对对象数组进行排序。
- `Arrays.toString`：打印数组的内容。

如果想要复制整个数组或其中一部分到另一个数组，可以调用 System.arraycopy方法。此方法从源数组中指定的位置复制指定个数的元素到目标数组里。这无疑是一个简便的方法。（有时候用 ByteBuffer bulk复制会更快。）

最后，所有的集合都可以用 `T[] Collection.toArray(T[] a)` 这个方法复制到数组中。通常会用这样的方式调用：`return coll.toArray(new T[coll.size()]);`;这个方法会分配足够大的数组来储存所有的集合，这样 toArray 在返回值时就不必再分配空间了。
