# 线程的生命周期

> 线程的生命周期一共有 5 个状态：`new`、`runnable`、`running`、`blocked`、`dead`

**线程生命周期的 5 种状态**

- 新建（new）：当创建 Thread 类的一个实例（对象）时，此线程进入新建状态（未被启动），也就说处于新生状态的线程有自己的内存空间，但该线程并没有运行。此时线程还不是活着的（not alive）。

- 就绪（runnable）：线程已经被启动，正在等待被分配给 CPU 时间片。也就通过调用线程实例的 `start()` 方法来启动线程使线程进入就绪状态（runnable）。处于就绪状态的线程已经具备了运行条件，但还没有被分配到 CPU，不一定会被立即执行，此时处于线程就绪队列，等待系统为其分配 CPU，等待状态并不是执行状态。此时线程是活着的（alive）。

- 运行（running）：线程获得 CPU 资源正在执行任务（`run()` 方法），此时除非此线程自动放弃 CPU 资源或者有优先级更高的线程进入，此线程将一直运行到结束。此时线程是活着的（alive）。

- 堵塞（blocked）：由于某种原因导致正在运行的线程让出 CPU 并暂停自己的执行，即进入堵塞状态。

  - 正在睡眠：用 `sleep(long t)` 方法可使线程进入睡眠方式。一个睡眠着的线程在指定时间过去可进入就绪状态。
  - 正在等待：调用 `wait()` 方法，可调用 `notify()` 方法回到就绪状态。
  - 被另一个线程所阻塞：调用 `suspend()` 方法，可调用 `resume()` 方法恢复

  处于 blocked 状态的线程仍然是活着的（alive）

- 死亡（dead）：当线程执行完毕或被其他线程杀死，线程就进入死亡状态，这时线程不可能再进入就绪状态等待执行。

  - 自然终止：正常运行 `run()` 方法后终止
  - 异常终止：调用 `stop()` 方法让一个线程终止运行

  处于 dead 状态的线程不是活着的（not alive）

![image-20200322130853592](https://i.loli.net/2020/03/22/wdkqFbVEJ6SY7up.png)