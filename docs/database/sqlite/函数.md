# 函数

## 时间函数

|函数|描述|
|----|----|
|`date(timestring[,modifier...])`|	以 `YYYY-MM-DD` 格式返回日期|
|`time(timestring[,modifier...])`|	以 `HH:MM:SS` 格式返回时间|
|`datetime(timestring[,modifier...])`|	以 `YYYY-MM-DD HH:MM:SS` 格式返回|
|`julianday(timestring[,modifier...])`|	这将返回从格林尼治时间的公元前 4714 年 11 月 24 日正午算起的天数|
|`strftime(format, timestring[,modifier...])`	|这将根据第一个参数指定的格式字符串返回格式化的日期|

**修饰符（Modifier）**

时间函数的参数中可带有零个或多个的修饰符，修饰符应从左到右使用，下面列出了可在 SQLite 中使用的修饰符：

- `NNN days`
- `NNN hours`
- `NNN minutes`
- `NNN.NNNN seconds`
- `NNN months`
- `NNN years`
- `start of month`
- `start of year`
- `start of day`
- `weekday N`
- `unixepoch`
- `localtime`
- `utc`

**示例**

```sql
-- 下面是计算当前日期：
SELECT date('now');
-- 2013-05-07

-- 下面是计算当前月份的最后一天：
SELECT date('now','start of month','+1 month','-1 day');
-- 2013-05-31

-- 下面是计算给定 UNIX 时间戳 1092941466 的日期和时间：
SELECT datetime(1092941466, 'unixepoch');
-- 2004-08-19 18:51:06

-- 下面是计算给定 UNIX 时间戳 1092941466 相对本地时区的日期和时间：
SELECT datetime(1092941466, 'unixepoch', 'localtime');
-- 2004-08-19 11:51:06

-- 下面是计算当前的 UNIX 时间戳：
SELECT strftime('%s','now');
-- 1367926057

-- 下面是计算时间差天数：
SELECT julianday('now') - julianday('1776-07-04');
-- 86504.4775830326

-- 下面是计算从 2004 年某一特定时刻以来的秒数：
SELECT strftime('%s','now') - strftime('%s','2004-01-01 02:34:56');
-- 295001572

-- 下面是计算当年 10 月的第一个星期二的日期：
SELECT date('now','start of year','+9 months','weekday 2');
-- 2013-10-01

-- 下面是计算从 UNIX 纪元算起的以秒为单位的时间（类似 strftime('%s','now') ，不同的是这里有包括小数部分）：
SELECT (julianday('now') - 2440587.5)*86400.0;
-- 1367926077.12598

-- 在 UTC 与本地时间值之间进行转换，当格式化日期时，使用 utc 或 localtime 修饰符，如下所示：
SELECT time('12:00', 'localtime');
-- 05:00:00
SELECT time('12:00', 'utc');
-- 19:00:00
```