# 设置容器自启动或取消自启动

Docker 容器的重启策略如下：
`--restart` 具体参数值详细信息：
- no　　　　　　　 // 默认策略,容器退出时不重启容器；
- on-failure　　  // 在容器非正常退出时（退出状态非0）才重新启动容器；
- on-failure:3    // 在容器非正常退出时重启容器，最多重启3次；
- always　　　　  // 无论退出状态是如何，都重启容器；
- unless-stopped  // 在容器退出时总是重启容器，但是不考虑在 Docker 守护进程启动时就已经停止了的容器。

## 创建容器时设置自启动

```shell
docker run -d --restart=always --name 设置容器名 使用的镜像
```

## 更新已有容器的自启动设置

```shell
# 自启动
# docker update --restart=always 容器名或容器ID
docker update --restart=always <CONTAINER ID>

# 取消自启动
# docker update --restart=no 容器名或容器ID
docker update --restart=no <CONTAINER ID>
```