# Numpy

Numpy(Numerical Python 的缩写)是一个开源的 Python 科学计算库。 NumPy 提供了高效存储和操作密集数据缓存的接口。

NumPy 主要用于对多维数组执行计算。

## 安装

```bash
pip install numpy
```

## NumPy 中的数组

NumPy 提供的最重要的数据结构是一个称为 NumPy 数组的强大对象。NumPy 数组是通常的 Python 数组的扩展。

示例：**定义一维 NumPy 数组**

```py
import numpy as np
my_arr=np.array([1,2,3,4,5])
print(my_arr)
```

读取一维数组的元素，使用中括号和索引 `[index]` 来读取元素，如 `my_arr[0]`。

示例：**创建迭代的数组**

```py
np.arange(5)
```

示例：**创建元素都是 0 和 1 的数组**

通常的方法可以直接构建数组，数组中的元素都是 0 和 1，不过 NumPy 提供了一种便捷的函数来创建这样的数组：

```py
#创建元素都是0的一维数组，下面的示例有5个0元素
np.zeros((5))
#创建元素都是1的一维数组
np.ones((5))
```

示例：**填充指定元素的数组**

```py
np.full((2,2),7)

[
    [7.,7.]
    [7.,7.]
]
```

示例：**创建随机数组**

```py
np.random.random((5))
```

示例：**创建指定数量元素的数组**

```py
# 创建具有指定数据元素的数组，这些元素将在指定的开始值和结束值之间平均间隔
np.linspace((1.,4.,6))
```

示例：**创建二维数组**

```py
#创建一个2行3列的二维数组
my_arr2=np.zeros((2,3))
```

对于多维数组可以用 `my_arr2[i][j]` 或 `my_arr2[i,j]` 来索引，其中 `i` 表示行号，`j` 表示列号。

**数组属性**

```py
a = np.array([[11, 12, 13, 14, 15],
              [16, 17, 18, 19, 20],
              [21, 22, 23, 24, 25],
              [26, 27, 28 ,29, 30],
              [31, 32, 33, 34, 35]])

print(type(a)) # >>><class 'numpy.ndarray'>
print(a.dtype) # >>>int64
print(a.size) # >>>25
print(a.shape) # >>>(5, 5)
print(a.itemsize) # >>>8
print(a.ndim) # >>>2
print(a.nbytes) # >>>200
```

**多维数组切片**

```py
#创建二维数组
a = np.array([[11, 12, 13, 14, 15],
              [16, 17, 18, 19, 20],
              [21, 22, 23, 24, 25],
              [26, 27, 28 ,29, 30],
              [31, 32, 33, 34, 35]])
 
#读取元素
print(a[2,4]) # >>>25

#取第1行的第2到4列元素
print(a[0, 1:4]) # >>>[12 13 14]
#取第2行到第4行的第一列元素
print(a[1:4, 0]) # >>>[16 21 26]
#按照步长为2来取数组元素，即跳着取元素
print(a[::2,::2]) # >>>[[11 13 15]
                  #     [21 23 25]
                  #     [31 33 35]]
#取第2列的所有元素
print(a[:, 1]) # >>>[12 17 22 27 32]
```

## NumPy 中数组的操作

**基本操作符**

```py
a = np.arange(25)
a = a.reshape((5, 5))

b = np.array([10, 62, 1, 14, 2, 56, 79, 2, 1, 45,
              4, 92, 5, 55, 63, 43, 35, 6, 53, 24,
              56, 3, 56, 44, 78])
b = b.reshape((5,5))

print(a + b)
print(a - b)
print(a * b)
print(a / b)
print(a ** 2)
print(a < b) print(a > b)

print(a.dot(b))
```

除了 `dot()` 之外，这些操作符都是对数组进行逐元素运算。比如 `(a, b, c) + (d, e, f)` 的结果就是 `(a+d, b+e, c+f)`。它将分别对每一个元素进行配对，然后对它们进行运算。它返回的结果是一个数组。

**数组特殊运算符**

```py
a = np.arange(10)

print(a.sum()) # >>>45
print(a.min()) # >>>0
print(a.max()) # >>>9
print(a.cumsum()) # >>>[ 0  1  3  6 10 15 21 28 36 45]
```