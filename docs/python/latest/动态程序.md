# 动态程序

## 动态代码

## 动态导入模块

<!--
Python 提供了 3 种可用于创建插件的直接机制，这 3 种机制都涉及在运行时根据名称导入模块。动态导入了附加的模块之后，可以使用 Python 的内省函数来检测用户代码中所需要的函数是否存在，并在需要的时候对其进行访问。
-->


## 内省函数

|语法|描述|
|----|----|
|`__import__(...)`|根据模块名导入模块|
|`compile(source, file, mode)`|返回编译 source 文本生成的代码对象， mode 必须为 `single`、`eval` 或 `exec`|
|`delattr(obj, name)`|从对象 obj 中删除名为 name 的属性|
|`dir( obj )`|返回本地范围内的名称列表，或者，如果已给定 obj，就返回 obj 的名称（比如，其属性与方法）|
|`eval( source , globals , locals )`|返回对 source 中单一表达式进行评估的结果，如果提供，那么 globals 表示的是全局上下文，locals 表示的是本地上下文（作为字典）|
|`exec(obj, globals , locals )`|对对象 obj 进行评估，该对象可以是一个字符串，也可以是来自 `compile()` 的代码对象，返回则为 None；如果提供，那么 globals 表示的是全局上下文，locals 表示的是本地上下文|
|`getattr(obj, name, val )`|返回对象 obj 中名为 name 的属性值，如果没有这一属性，并且给定了 val 参数，就返回 val|
|`globals()`|返回当前全局上下文的字典|
|`hasattr(obj, name)`|如果对象 obj 中有名为 name 的属性，就返回 True|
|`locals()`|返回当前本地上下文的字典|
|`setattr(obj, name, val)`|将对象 obj 中名为 name 的属性值设置为 val，必要的时候创建该属性|
|`type(obj)`|返回对象 obj 的类型对象|
|`vars( obj )`|以字典形式返回对象 obj 的上下文，如果没有给定obj，就返回本地上下文|

