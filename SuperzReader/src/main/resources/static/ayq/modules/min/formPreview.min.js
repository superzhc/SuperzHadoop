/**
 +------------------------------------------------------------------------------------+
 + ayq-layui-form-designer(layui表单设计器)
 +------------------------------------------------------------------------------------+
 + ayq-layui-form-designer v1.0.1
 * MIT License By http://116.62.237.101:8009/
 + 作者：谁家没一个小强
 + 官方：
 + 时间：2021-06-23
 +------------------------------------------------------------------------------------+
 + 版权声明：该版权完全归谁家没一个小强所有，可转载使用和学习，但请务必保留版权信息
 +------------------------------------------------------------------------------------+
 + 本项目是一个基于layui表单组件的表单设计器
 + 1.本项目基于Layui、Jquery、Sortable
 + 2.项目已经基本实现了拖动布局，父子布局
 + 3.项目实现了大部分基于Layui的Form表单控件布局，包括输入框、编辑器、下拉、单选、单选组、多选组、日期、滑块、评分、轮播、图片、颜色选择、图片上传、文件上传
 +------------------------------------------------------------------------------------+
 */
layui.define("layer laytpl element form slider laydate rate colorpicker layedit carousel upload formField numberInput cron labelGeneration".split(" "),function(x){var h=layui.jquery,p=layui.layer,q=layui.element,y=layui.slider,r=layui.laydate,z=layui.rate,A=layui.colorpicker,B=layui.carousel,t=layui.form,u=layui.upload,g=layui.formField,C=layui.numberInput,v=layui.iconPicker,D=layui.cron,E=layui.labelGeneration,w={},l=function(){var a=(new Date).getTime();window.performance&&"function"===typeof window.performance.now&&(a+=performance.now());return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var b=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"==c?b:b&3|8).toString(16)})},n={index:layui.formPreview?layui.formPreview.index+1E4:0,set:function(a){this.config=h.extend({},this.config,a);return this},on:function(a,c){return layui.onevent.call(this,"formPreview",a,c)}},F=function(){var a=this,c=a.config;return{reload:function(b){a.reload.call(a,b)},getOptions:function(){return c||null},getData:function(){return c.data||null},geticeEditorObjects:function(){return w||null}}},m=function(a){this.index=++n.index;this.config=h.extend({},this.config,n.config,a);this.render()};String.prototype.format=function(a){var c=this;if(0<arguments.length)if(1==arguments.length&&"object"==typeof a)for(var b in a){if(void 0!=a[b])var f=new RegExp("({"+b+"})","g"),c=c.replace(f,a[b])}else for(b=0;b<arguments.length;b++)void 0!=arguments[b]&&(f=new RegExp("({["+b+"]})","g"),c=c.replace(f,arguments[b]));return c};m.prototype.config={version:"1.0.0",formName:"\u8868\u5355\u793a\u4f8b",Author:"\u8c01\u5bb6\u6ca1\u4e00\u4e2a\u5c0f\u5f3a",formId:"id",generateId:0,data:[],selectItem:void 0};m.prototype.autoId=function(a){var c=this.config;c.generateId+=1;return a+"_"+c.generateId};m.prototype.components={input:{render:function(a,c){void 0===c&&(c=!1);var b=a.disabled?'disabled\x3d""':"",f=a.readonly?'readonly\x3d""':"",e=a.required?"required":"",d=a.disabled?" layui-disabled":"";null!==a.expression&&void 0!==a.expression&&""!==a.expression&&(e="required|"+a.expression);var k='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,c?"active":"",a.index),k=k+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),k=k+'\x3cdiv class\x3d"layui-input-block"\x3e'+'\x3cinput name\x3d"{0}" value\x3d"{1}" placeholder\x3d"{3}" class\x3d"layui-input{7}" lay-vertype\x3d"tips" lay-verify\x3d"{6}" {4} {5} style\x3d"width:{2}"\x3e'.format(a.id,a.defaultValue?a.defaultValue:"",a.width,a.placeholder,f,b,e,d);return k+"\x3c/div\x3e\x3c/div\x3e"},jsonData:function(a,c,b){b=JSON.parse(JSON.stringify(g.input));b.id=void 0==a?autoId(b.tag):a;b.index=c;return b}},numberInput:{render:function(a,c){void 0===c&&(c=!1);var b=a.disabled?'disabled\x3d""':"",f=a.disabled?" layui-disabled":"",e='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,c?"active":"",a.index),e=e+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),e=e+'\x3cdiv class\x3d"layui-input-block"\x3e'+'\x3cinput name\x3d"{0}" id\x3d"{9}" value\x3d"{1}" placeholder\x3d"{3}" class\x3d"layui-input{5}" lay-vertype\x3d"tips" min\x3d"{6}" max\x3d"{7}" step\x3d"{8}"  {4} style\x3d"width:{2}"\x3e'.format(a.id,a.defaultValue?a.defaultValue:"0",a.width,a.placeholder,b,f,a.minValue,a.maxValue,a.stepValue,a.tag+a.id);return e+"\x3c/div\x3e\x3c/div\x3e"},jsonData:function(a,c,b){b=JSON.parse(JSON.stringify(g.numberInput));b.id=void 0==a?autoId(b.tag):a;b.index=c;return b}},labelGeneration:{render:function(a,c){void 0===c&&(c=!1);var b='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,c?"active":"",a.index),b=b+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),b=b+'\x3cdiv class\x3d"layui-input-block"\x3e'+'\x3cdiv id\x3d"{0}"\x3e\x3c/div\x3e'.format(a.tag+a.id);return b+"\x3c/div\x3e\x3c/div\x3e"},jsonData:function(a,c,b){b=JSON.parse(JSON.stringify(g.labelGeneration));b.id=void 0==a?autoId(b.tag):a;b.index=c;return b}},iconPicker:{render:function(a,c){void 0===c&&(c=!1);var b=a.disabled?'disabled\x3d""':"",f=a.disabled?" layui-disabled":"",e='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,c?"active":"",a.index),e=e+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),e=e+'\x3cdiv class\x3d"layui-input-block"\x3e'+'\x3cinput name\x3d"{0}" id\x3d"{6}" value\x3d"{1}" placeholder\x3d"{3}" class\x3d"layui-input{5}" lay-filter\x3d"iconPicker" lay-vertype\x3d"tips" {4} style\x3d"width:{2}"\x3e'.format(a.id,a.defaultValue?a.defaultValue:"",a.width,a.placeholder,b,f,a.tag+a.id);return e+"\x3c/div\x3e\x3c/div\x3e"},jsonData:function(a,c,b){b=JSON.parse(JSON.stringify(g.iconPicker));b.id=void 0==a?autoId(b.tag):a;b.index=c;return b}},cron:{render:function(a,c){void 0===c&&(c=!1);var b=a.disabled?'disabled\x3d""':"",f=a.disabled?" layui-disabled":"",e=a.width.replace(/[^\d]/g,"");""!=e&&(e=100-parseInt(e));var d='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,c?"active":"",a.index),d=d+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),d=d+'\x3cdiv class\x3d"layui-input-block"\x3e'+'\x3cinput type\x3d"cronExpression" name\x3d"{0}" id\x3d"{6}" value\x3d"{1}" placeholder\x3d"{3}" class\x3d"layui-input{5}" lay-filter\x3d"iconPicker" lay-vertype\x3d"tips" {4} style\x3d"width:{2}"\x3e'.format(a.id,a.defaultValue?a.defaultValue:"",a.width,a.placeholder,b,f,a.tag+a.id);a.disabled||(d+='\x3cbutton id\x3d"{0}-button" style\x3d"position: absolute;top: 0;right: {1}%;cursor: pointer;" type\x3d"button" class\x3d"layui-btn"\x3e\u751f\u6210\x3c/button\x3e'.format(a.tag+a.id,e));return d+"\x3c/div\x3e\x3c/div\x3e"},jsonData:function(a,c,b){b=JSON.parse(JSON.stringify(g.cron));b.id=void 0==a?autoId(b.tag):a;b.index=c;return b}},password:{render:function(a,c){void 0===c&&(c=!1);var b=a.disabled?'disabled\x3d""':"",f=a.readonly?'readonly\x3d""':"",e=a.required?'lay-verify\x3d"required"':"",d=a.disabled?" layui-disabled":"",k='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,c?"active":"",a.index),k=k+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),k=k+'\x3cdiv class\x3d"layui-input-block"\x3e'+'\x3cinput type\x3d"password" name\x3d"{0}" placeholder\x3d"{3}" value\x3d"{1}" autocomplete\x3d"off" style\x3d"width:{2}" {4} {5} {6} class\x3d"layui-input{7}"\x3e'.format(a.id,a.defaultValue?a.defaultValue:"",a.width,a.placeholder,f,b,e,d);return k+"\x3c/div\x3e\x3c/div\x3e"},jsonData:function(a,c,b){b=JSON.parse(JSON.stringify(g.password));b.id=void 0==a?l():a;b.index=c;return b}},select:{render:function(a,c){void 0===c&&(c=!1);for(var b=a.disabled?'disabled\x3d""':"",f='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,c?"active":"",a.index),f=f+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),f=f+'\x3cdiv class\x3d"layui-input-block"\x3e'.format(a.width),f=f+'\x3cselect name\x3d"{0}" lay-verify\x3d"required" style\x3d"width:{1}" {2}\x3e'.format(a.id,a.width,b),b=0;b<a.options.length;b++)f=a.options[b].checked?f+'\x3coption value\x3d"{0}" selected\x3d""\x3e{1}\x3c/option\x3e'.format(a.options[b].value,a.options[b].text):f+'\x3coption value\x3d"{0}"\x3e{1}\x3c/option\x3e'.format(a.options[b].value,a.options[b].text);return f+"\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e"},jsonData:function(a,c,b){b=JSON.parse(JSON.stringify(g.select));b.id=void 0==a?l():a;b.index=c;return b}},radio:{render:function(a,c){void 0===c&&(c=!1);for(var b=a.disabled?'disabled\x3d""':"",f='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,c?"active":"",a.index),f=f+'\x3clabel class\x3d"layui-form-label"\x3e{0}:\x3c/label\x3e'.format(a.label),f=f+'\x3cdiv class\x3d"layui-input-block"\x3e',e=0;e<a.options.length;e++)f=a.options[e].checked?f+'\x3cinput type\x3d"radio" name\x3d"{0}" value\x3d"{1}" title\x3d"{2}" checked\x3d"" {3}\x3e'.format(a.tag,a.options[e].value,a.options[e].text,b):f+'\x3cinput type\x3d"radio" name\x3d"{0}" value\x3d"{1}" title\x3d"{2}" {3}\x3e'.format(a.tag,a.options[e].value,a.options[e].text,b);return f+"\x3c/div\x3e\x3c/div\x3e"},jsonData:function(a,c,b){b=JSON.parse(JSON.stringify(g.radio));b.id=void 0==a?l():a;b.index=c;return b}},checkbox:{render:function(a,c){void 0===c&&(c=!1);for(var b=a.disabled?'disabled\x3d""':"",f=a.required?'lay-verify\x3d"otherReq"':"",e='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,c?"active":"",a.index),e=e+'\x3clabel class\x3d"layui-form-label"\x3e{0}:\x3c/label\x3e'.format(a.label),e=e+'\x3cdiv class\x3d"layui-input-block"\x3e',d=0;d<a.options.length;d++)e=a.options[d].checked?e+'\x3cinput type\x3d"checkbox" name\x3d"{0}[{1}]" title\x3d"{2}" checked\x3d"" {3} {4}\x3e'.format(a.id,a.options[d].value,a.options[d].text,b,f):e+'\x3cinput type\x3d"checkbox" name\x3d"{0}[{1}]" title\x3d"{2}" {3} {4}\x3e'.format(a.id,a.options[d].value,a.options[d].text,b,f);return e+"\x3c/div\x3e\x3c/div\x3e"},jsonData:function(a,c,b){b=JSON.parse(JSON.stringify(g.checkbox));b.id=void 0==a?l():a;b.index=c;return b}},"switch":{render:function(a,c){void 0===c&&(c=!1);var b=a.disabled?'disabled\x3d""':"",f=a.disabled?" layui-disabled":"",e='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,c?"active":"",a.index),e=e+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),e=e+'\x3cdiv class\x3d"layui-input-block" style\x3d"border: 1px solid #d2d2d2;border-left: 0px;"\x3e'+'\x3cinput type\x3d"checkbox" name\x3d"{0}" lay-skin\x3d"switch" lay-text\x3d"ON|OFF" {1} class\x3d"{2}" {3}\x3e'.format(a.id,b,f,a.switchValue?"checked":"");return e+"\x3c/div\x3e\x3c/div\x3e"},jsonData:function(a,c,b){b=JSON.parse(JSON.stringify(g["switch"]));b.id=void 0==a?l():a;b.index=c;return b}},slider:{render:function(a,c){void 0===c&&(c=!1);var b='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,c?"active":"",a.index),b=b+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),b=b+'\x3cdiv class\x3d"layui-input-block" style\x3d"width:calc({0} - 110px);"\x3e'.format(a.width),b=b+'\x3cdiv id\x3d"{0}" class\x3d"widget-slider"\x3e\x3c/div\x3e'.format(a.tag+a.id),b=b+'\x3cinput name\x3d"{0}" type\x3d"hidden" value\x3d"{1}"\x3e\x3c/input\x3e'.format(a.id,a.defaultValue);return b+"\x3c/div\x3e\x3c/div\x3e"},jsonData:function(a,c,b){b=JSON.parse(JSON.stringify(g.slider));b.id=void 0==a?l():a;b.index=c;return b}},date:{render:function(a,c){void 0===c&&(c=!1);var b=a.disabled?" layui-disabled":"",f=a.disabled?" pointer-events: none;":"",e='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,c?"active":"",a.index),e=e+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),e=e+'\x3cdiv class\x3d"layui-input-block"\x3e'+'\x3cinput id\x3d"{0}" name\x3d"{0}" class\x3d"layui-input icon-date widget-date {1}" style\x3d"line-height: 40px;{2}"\x3e\x3c/input\x3e'.format(a.tag+a.id,b,f);return e+"\x3c/div\x3e\x3c/div\x3e"},jsonData:function(a,c,b){b=JSON.parse(JSON.stringify(g.date));b.id=void 0==a?l():a;b.index=c;return b}},bottom:{render:function(a,c){void 0===c&&(c=!1);var b="";"layui-btn-lg"===a.buttonSize&&(b="custom-lg");""===a.buttonSize&&(b="custom-zc");"layui-btn-sm"===a.buttonSize&&(b="custom-sm");"layui-btn-xs"===a.buttonSize&&(b="custom-xs");var f='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,c?"active":"",a.index);a.isLabel&&(f+='\x3clabel class\x3d"layui-form-label"\x3e{0}:\x3c/label\x3e'.format(a.label));f+='\x3cdiv class\x3d"layui-input-block" style\x3d"margin-left: 0px;"\x3e';f=a.disabled?f+'\x3cbutton id\x3d"{0}" type\x3d"button" class\x3d"layui-btn {1} layui-btn-disabled {2}"\x3e\x3ci class\x3d"layui-icon {3}"\x3e\x3c/i\x3e {4}\x3c/button\x3e'.format(a.id+a.tag,a.buttonSize,b,a.buttonIcon,a.buttonVlaue):f+'\x3cbutton id\x3d"{0}" type\x3d"button" class\x3d"layui-btn {1} {2} {3}"\x3e\x3ci class\x3d"layui-icon {4}"\x3e\x3c/i\x3e {5}\x3c/button\x3e'.format(a.id+a.tag,a.buttonSize,a.buttonType,b,a.buttonIcon,a.buttonVlaue);return f+"\x3c/div\x3e\x3c/div\x3e"},jsonData:function(a,c,b){b=JSON.parse(JSON.stringify(g.bottom));b.id=void 0==a?autoId(b.tag):a;b.index=c;return b}},dateRange:{render:function(a,c){void 0===c&&(c=!1);var b=a.disabled?" layui-disabled":"",f=a.disabled?" pointer-events: none;":"",e='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,c?"active":"",a.index),e=e+'\x3cdiv class\x3d"layui-inline"\x3e'+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),e=e+'\x3cdiv class\x3d"layui-inline" id\x3d"{0}" style\x3d"line-height: 40px;{1}"\x3e'.format(a.tag+a.id,f),e=e+'\x3cdiv class\x3d"layui-input-inline"\x3e'+'\x3cinput id\x3d"start-{0}" name\x3d"start{2}" class\x3d"layui-input {1}" autocomplete\x3d"off" placeholder\x3d"\u5f00\u59cb\u65e5\u671f"\x3e\x3c/input\x3e'.format(a.tag+a.id,b,a.id),e=e+'\x3c/div\x3e\x3cdiv class\x3d"layui-form-mid"\x3e-\x3c/div\x3e\x3cdiv class\x3d"layui-input-inline"\x3e'+'\x3cinput id\x3d"end-{0}" name\x3d"end{2}" class\x3d"layui-input {1}" autocomplete\x3d"off" placeholder\x3d"\u7ed3\u675f\u65e5\u671f"\x3e\x3c/input\x3e'.format(a.tag+a.id,b,a.id);return e+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"},jsonData:function(a,c,b){b=JSON.parse(JSON.stringify(g.dateRange));b.id=void 0==a?l():a;b.index=c;return b}},rate:{render:function(a,c){void 0===c&&(c=!1);var b='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,c?"active":"",a.index),b=b+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),b=b+'\x3cdiv class\x3d"layui-input-block"\x3e'+'\x3cdiv id\x3d"{0}" class\x3d"widget-rate"\x3e\x3c/div\x3e'.format(a.tag+a.id),b=b+'\x3cinput name\x3d"{0}" type\x3d"hidden" value\x3d"{1}"\x3e\x3c/input\x3e'.format(a.id,a.defaultValue);return b+"\x3c/div\x3e\x3c/div\x3e"},jsonData:function(a,c,b){b=JSON.parse(JSON.stringify(g.rate));b.id=void 0==a?l():a;b.index=c;return b}},carousel:{render:function(a,c){void 0===c&&(c=!1);for(var b='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,c?"active":"",a.index),b=b+'\x3cdiv class\x3d"layui-carousel" id\x3d"{0}"\x3e'.format(a.tag+a.id),b=b+"\x3cdiv carousel-item\x3e",f=0;f<a.options.length;f++)b+='\x3cdiv\x3e\x3cimg src\x3d"{0}" /\x3e\x3c/div\x3e'.format(a.options[f].value);return b+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"},jsonData:function(a,c,b){b=JSON.parse(JSON.stringify(g.carousel));b.id=void 0==a?l():a;b.index=c;return b}},colorpicker:{render:function(a,c){void 0===c&&(c=!1);var b='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,c?"active":"",a.index),b=b+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),b=b+'\x3cdiv class\x3d"layui-input-block"\x3e'+'\x3cdiv id\x3d"{0}" class\x3d"widget-rate"\x3e\x3c/div\x3e'.format(a.tag+a.id),b=b+'\x3cinput name\x3d"{0}" type\x3d"hidden" value\x3d"{1}"\x3e\x3c/input\x3e'.format(a.id,a.defaultValue);return b+"\x3c/div\x3e\x3c/div\x3e"},jsonData:function(a,c,b){b=JSON.parse(JSON.stringify(g.colorpicker));b.id=void 0==a?l():a;b.index=c;return b}},image:{render:function(a,c){void 0===c&&(c=!1);var b='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,c?"active":"",a.index),b=b+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),b=b+'\x3cdiv class\x3d"layui-input-block"\x3e\x3cdiv class\x3d"layui-upload"\x3e'+'\x3cbutton type\x3d"button" class\x3d"layui-btn" id\x3d"{0}"\x3e\u591a\u56fe\u7247\u4e0a\u4f20\x3c/button\x3e'.format(a.tag+a.id),b=b+'\x3cblockquote class\x3d"layui-elem-quote layui-quote-nm" style\x3d"margin-top: 10px;width: 88%"\x3e\u9884\u89c8\u56fe\uff1a'+'\x3cdiv class\x3d"layui-upload-list uploader-list" style\x3d"overflow: auto;" id\x3d"uploader-list-{0}"\x3e'.format(a.id);return b+"\x3c/div\x3e\x3c/blockquote\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"},jsonData:function(a,c,b){b=JSON.parse(JSON.stringify(g.image));b.id=void 0==a?l():a;b.index=c;return b}},textarea:{render:function(a,c){void 0===c&&(c=!1);var b=a.disabled?'disabled\x3d""':"",f=a.readonly?'readonly\x3d""':"",e=a.required?'lay-verify\x3d"required"':"",d=a.disabled?" layui-disabled":"",k='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item layui-form-text {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,c?"active":"",a.index),k=k+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),k=k+'\x3cdiv class\x3d"layui-input-block"\x3e'+'\x3ctextarea name\x3d"{0}" placeholder\x3d"{3}" width\x3d"{2}" class\x3d"layui-textarea{7}" {4} {5} {6}\x3e{1}\x3c/textarea\x3e'.format(a.id,a.defaultValue?a.defaultValue:"",a.width,a.placeholder,f,b,e,d);return k+"\x3c/div\x3e\x3c/div\x3e"},jsonData:function(a,c,b){b=JSON.parse(JSON.stringify(g.textarea));b.id=void 0==a?autoId(b.tag):a;b.index=c;return b}},editor:{render:function(a,c){void 0===c&&(c=!1);var b='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item layui-form-text {2}" style\x3d"width: {4}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,c?"active":"",a.index,a.width),b=b+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),b=b+'\x3cdiv class\x3d"layui-input-block"\x3e'+'\x3cdiv id\x3d"{0}"\x3e\x3c/div\x3e'.format(a.tag+a.id);return b+"\x3c/div\x3e\x3c/div\x3e"},jsonData:function(a,c,b){b=JSON.parse(JSON.stringify(g.editor));b.id=void 0==a?autoId(b.tag):a;b.index=c;return b}},grid:{render:function(a,c){void 0===c&&(c=!1);var b='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item layui-row grid {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}" \x3e'.format(a.id,a.tag,c?"active":"",a.index),f="layui-col-md6";3==a.columns.length?f="layui-col-md4":4==a.columns.length?f="layui-col-md3":6==a.columns.length&&(f="layui-col-md2");for(var e=0;e<a.columns.length;e++)b+='\x3cdiv class\x3d"{2} widget-col-list column{3}{0}" data-index\x3d"{0}" data-parentindex\x3d"{1}"\x3e'.format(e,a.index,f,a.id),b+="\x3c/div\x3e";return b+"\x3c/div\x3e"},jsonData:function(a,c,b){var f=JSON.parse(JSON.stringify(g.grid));f.id=void 0==a?autoId(f.tag):a;f.index=c;if(2<b)for(a={span:12,list:[]},c=f.columns.length;c<b;c++)f.columns.splice(c,0,a);return f}},file:{render:function(a,c){void 0===c&&(c=!1);var b='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,c?"active":"",a.index),b=b+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),b=b+'\x3cdiv class\x3d"layui-input-block"\x3e\x3cdiv class\x3d"layui-upload"\x3e'+'\x3cbutton type\x3d"button" class\x3d"layui-btn layui-btn-normal" id\x3d"{0}"\x3e\u9009\u62e9\u591a\u6587\u4ef6\x3c/button\x3e '.format(a.tag+a.id),b=b+' \x3cdiv class\x3d"layui-upload-list" style\x3d"max-width: 1000px;"\x3e\x3ctable class\x3d"layui-table"\x3e\x3ccolgroup\x3e\x3ccol\x3e\x3ccol width\x3d"150"\x3e\x3ccol width\x3d"260"\x3e\x3ccol width\x3d"150"\x3e\x3c/colgroup\x3e\x3cthead\x3e\x3ctr\x3e\x3cth\x3e\u6587\u4ef6\u540d\x3c/th\x3e\x3cth\x3e\u5927\u5c0f\x3c/th\x3e\x3cth\x3e\u4e0a\u4f20\u8fdb\u5ea6\x3c/th\x3e\x3cth\x3e\u64cd\u4f5c\x3c/th\x3e\x3c/tr\x3e\x3c/thead\x3e'+'\x3ctbody id\x3d"list-{0}"\x3e\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e'.format(a.id),b=b+'\x3cbutton type\x3d"button" class\x3d"layui-btn" id\x3d"listAction-{0}"\x3e\u5f00\u59cb\u4e0a\u4f20\x3c/button\x3e'.format(a.id);return b+"\x3c/div\x3e\x3c/blockquote\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"},jsonData:function(a,c,b){b=JSON.parse(JSON.stringify(g.file));b.id=void 0==a?l():a;b.index=c;return b},property:function(a){h("#columnProperty").empty();var c;c=renderCommonProperty(a);for(var b in a);h("#columnProperty").append(c)}}};m.prototype.render=function(){var a=this.config;a.elem=h(a.elem);a.id=a.id||a.elem.attr("id")||this.index;a.elem.html('\x3cform  class\x3d"layui-form  layui-form-pane" style\x3d"height:100%;" id\x3d"formPreviewForm"\x3e\x3c/form\x3e');this.renderForm()};m.prototype.renderComponents=function(a,c){var b=this,f=b.config;h.each(a,function(a,d){d.index=a;void 0===f.selectItem?c.append(b.components[d.tag].render(d,!1)):f.selectItem.id===d.id?(c.append(b.components[d.tag].render(d,!0)),b.components[d.tag].property(d)):c.append(b.components[d.tag].render(d,!1));if("grid"===d.tag)h.each(d.columns,function(a,c){if(0<c.list.length){var e=h("#"+d.id+" .widget-col-list.column"+d.id+a);b.renderComponents(c.list,e)}});else if("slider"===d.tag)y.render({elem:"#"+d.tag+d.id,value:d.defaultValue,min:d.minValue,max:d.maxValue,step:d.stepValue,input:d.isInput,change:function(a){h("#"+d.id).find("input[name\x3d"+d.id+"]").val(a)}});else if("numberInput"===d.tag){C.render({elem:"#"+d.tag+d.id});var e=d.width.replace(/[^\d]/g,"");""!=e&&(e=100-parseInt(e));h("#"+d.id+" .layui-input-block .layui-number-input-btn").css("right",e+"%");d.disabled&&h("#"+d.id+" .layui-input-block .layui-number-input-btn").css("z-index","-1")}else"checkbox"===d.tag?t.verify({otherReq:function(a,b){for(var c=h(b).attr("name"),d=h(b).attr("type"),e=h(b).parents(".layui-form"),c=e.find("input[name\x3d'"+c+"']"),e=e.find("input"),f=c.is(":checked"),g=c.next().find("i.layui-icon"),c=0;c<e.length;c++)if(e[c].checked)return!1;if(!f||!a)return g.css("radio"==d?{color:"#FF5722"}:{"border-color":"#FF5722"}),g.first().attr("tabIndex","1").css("outline","0").blur(function(){g.css("radio"==d?{color:""}:{"border-color":""})}).focus(),"\u5fc5\u586b\u9879\u4e0d\u80fd\u4e3a\u7a7a"}}):"date"===d.tag?r.render({elem:"#"+d.tag+d.id,btns:["confirm"],type:d.datetype,format:d.dateformat,value:d.dateDefaultValue,min:d.dataMinValue,max:d.dataMaxValue}):"labelGeneration"===d.tag?E.render({elem:"#"+d.tag+d.id,data:d.dateDefaultValue,isEnter:d.isEnter}):"cron"!==d.tag||d.disabled?"iconPicker"===d.tag?(v.render({elem:"#"+d.tag+d.id,type:"fontClass",search:d.iconPickerSearch,page:d.iconPickerPage,limit:d.iconPickerLimit,cellWidth:d.iconPickerCellWidth,click:function(a){},success:function(a){}}),v.checkIcon(d.tag+d.id,"")):"dateRange"===d.tag?(r.render({elem:"#"+d.tag+d.id,type:d.datetype,format:d.dateformat,min:d.dataMinValue,max:d.dataMaxValue,range:["#start-"+d.tag+d.id,"#end-"+d.tag+d.id]}),null!==d.dateRangeDefaultValue&&""!==d.dateRangeDefaultValue&&void 0!==d.dateRangeDefaultValue&&(e=d.dateRangeDefaultValue.split(" - "),h("#start-"+d.tag+d.id).val(e[0]),h("#end-"+d.tag+d.id).val(e[1]))):"rate"===d.tag?z.render({elem:"#"+d.tag+d.id,value:d.defaultValue,text:d.text,half:d.half,length:d.rateLength,readonly:d.readonly,choose:function(a){h("#"+d.id).find("input[name\x3d"+d.id+"]").val(a)}}):"colorpicker"===d.tag?A.render({elem:"#"+d.tag+d.id,color:d.defaultValue,done:function(a){h("#"+d.id).find("input[name\x3d"+d.id+"]").val(a)}}):"editor"===d.tag?(e=new ice.editor(d.tag+d.id),e.width=d.width,e.height=d.height,e.uploadUrl=d.uploadUrl,e.disabled=d.disabled,e.menu=d.menu,e.create(),w[d.tag+d.id]=e):"carousel"===d.tag?B.render({elem:"#"+d.tag+d.id,width:d.width,height:d.height,arrow:d.arrow,interval:d.interval,anim:d.anim,autoplay:d.autoplay}):"image"===d.tag?u.render({elem:"#"+d.tag+d.id,url:""+d.uploadUrl+"",multiple:!0,before:function(a){p.msg("\u56fe\u7247\u4e0a\u4f20\u4e2d...",{icon:16,shade:.01,time:0})},done:function(a){p.close(p.msg());h("#uploader-list-"+d.id).append('\x3cdiv id\x3d"" class\x3d"file-iteme"\x3e\x3cdiv class\x3d"handle"\x3e\x3ci class\x3d"layui-icon layui-icon-delete"\x3e\x3c/i\x3e\x3c/div\x3e\x3cimg style\x3d"width: 100px;height: 100px;" src\x3d'+a.data.src+'\x3e\x3cdiv class\x3d"info"\x3e'+a.data.title+"\x3c/div\x3e\x3c/div\x3e")}}):"file"===d.tag&&u.render({elem:"#"+d.tag+d.id,elemList:h("#list-"+d.id),url:""+d.uploadUrl+"",accept:"file",multiple:!0,number:3,auto:!1,bindAction:"#listAction-"+d.id,choose:function(a){var b=this,c=this.files=a.pushFile();a.preview(function(d,e,f){var g=h(['\x3ctr id\x3d"upload-'+d+'"\x3e',"\x3ctd\x3e"+e.name+"\x3c/td\x3e","\x3ctd\x3e"+(e.size/1014).toFixed(1)+"kb\x3c/td\x3e",'\x3ctd\x3e\x3cdiv class\x3d"layui-progress" lay-filter\x3d"progress-demo-'+d+'"\x3e\x3cdiv class\x3d"layui-progress-bar" lay-percent\x3d""\x3e\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e','\x3ctd\x3e\x3cbutton class\x3d"layui-btn layui-btn-xs demo-reload layui-hide"\x3e\u91cd\u4f20\x3c/button\x3e\x3cbutton class\x3d"layui-btn layui-btn-xs layui-btn-danger demo-delete"\x3e\u5220\u9664\x3c/button\x3e\x3c/td\x3e\x3c/tr\x3e'].join(""));g.find(".demo-reload").on("click",function(){a.upload(d,e)});g.find(".demo-delete").on("click",function(){delete c[d];g.remove();uploadListIns.config.elem.next()[0].value=""});b.elemList.append(g);q.render("progress")})},done:function(a,b,c){this.elemList.find("tr#upload-"+b).children().eq(3).html("");delete this.files[b]},allDone:function(a){console.log(a)},error:function(a,b){this.elemList.find("tr#upload-"+a).children().eq(3).find(".demo-reload").removeClass("layui-hide")},progress:function(a,b,c,d){q.progress("progress-demo-"+d,a+"%")}}):D.render({elem:"#"+d.tag+d.id+"-button",url:d.cronUrl,done:function(a){h("#"+d.tag+d.id).val(a)}})})};m.prototype.renderForm=function(){var a=this.config,c=h("#formPreviewForm");c.empty();this.renderComponents(a.data,c);c.append('\x3cdiv class\x3d"layui-form-item"\x3e\x3cdiv class\x3d"layui-input-block"\x3e\x3cbutton type\x3d"submit" class\x3d"layui-btn" lay-submit\x3d"" lay-filter\x3d"demo1"\x3e\u63d0\u4ea4\x3c/button\x3e\x3cbutton type\x3d"reset" class\x3d"layui-btn layui-btn-primary"\x3e\u91cd\u7f6e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e');t.render();if(0!=a.data.length)for(c=0;c<a.data.length;c++)if("grid"===a.data[c].tag)for(var b=0;b<a.data[c].columns.length;b++)for(var f=0;f<a.data[c].columns[b].list.length;f++)"select"===a.data[c].columns[b].list[f].tag&&h("#"+a.data[c].columns[b].list[f].id+" .layui-input-block div.layui-unselect.layui-form-select").css({width:"{0}".format(a.data[c].columns[b].list[f].width)});else"select"===a.data[c].tag&&h("#"+a.data[c].id+" .layui-input-block div.layui-unselect.layui-form-select").css({width:"{0}".format(a.data[c].width)})};n.render=function(a){a=new m(a);return F.call(a)};layui.link(layui.cache.base+"formPreview.css?v\x3d1",function(){},"formPreview");x("formPreview",n)});