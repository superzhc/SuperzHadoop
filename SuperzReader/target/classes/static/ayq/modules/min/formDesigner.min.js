/**
 +------------------------------------------------------------------------------------+
 + ayq-layui-form-designer(layui表单设计器)
 +------------------------------------------------------------------------------------+
 + ayq-layui-form-designer v1.0.1
 * MIT License By http://116.62.237.101:8009/
 + 作者：谁家没一个小强
 + 官方：
 + 时间：2021-06-23
 +------------------------------------------------------------------------------------+
 + 版权声明：该版权完全归谁家没一个小强所有，可转载使用和学习，但请务必保留版权信息
 +------------------------------------------------------------------------------------+
 + 本项目是一个基于layui表单组件的表单设计器
 + 1.本项目基于Layui、Jquery、Sortable
 + 2.项目已经基本实现了拖动布局，父子布局
 + 3.项目实现了大部分基于Layui的Form表单控件布局，包括输入框、编辑器、下拉、单选、单选组、多选组、日期、滑块、评分、轮播、图片、颜色选择、图片上传、文件上传
 +------------------------------------------------------------------------------------+
 */
layui.define("layer laytpl element form slider laydate rate colorpicker layedit carousel upload formField numberInput iconPicker cron labelGeneration".split(" "),function(O){var f=layui.jquery,n=layui.layer,I=layui.element,C=layui.slider,t=layui.laydate,D=layui.rate,J=layui.colorpicker,H=layui.carousel,q=layui.form,K=layui.upload,P=layui.layedit,k=layui.formField,L=layui.numberInput,x=layui.iconPicker,M=layui.cron,N=layui.labelGeneration,E={},r=function(){var a=(new Date).getTime();window.performance&&"function"===typeof window.performance.now&&(a+=performance.now());return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"==b?c:c&3|8).toString(16)})},l={id:"\u6807\u8bc6",label:"\u6807\u9898",index:"\u5e8f\u53f7",tag:"\u8868\u5355\u7c7b\u578b",tagIcon:"\u56fe\u6807",width:"\u5bbd\u5ea6",height:"\u9ad8\u5ea6",span:"\u7f51\u683c\u5bbd\u5ea6",placeholder:"placeholder",defaultValue:"\u9ed8\u8ba4\u503c",dateDefaultValue:"\u9ed8\u8ba4\u65f6\u95f4",labelWidth:"\u6587\u672c\u5bbd\u5ea6",clearable:"\u662f\u5426\u6e05\u695a",prepend:"\u524d\u7f00",append:"\u8ffd\u52a0",prefixIcon:"\u524d\u7f00\u56fe\u6807",suffixIcon:"\u540e\u7f00\u56fe\u6807",maxlength:"\u6700\u5927\u957f\u5ea6",showWordLimit:"\u662f\u5426\u9650\u5236\u5b57\u7b26",readonly:"\u53ea\u8bfb",disabled:"\u7981\u7528",required:"\u5fc5\u586b",columns:"\u5217\u6570",options:"\u9009\u9879",switchValue:"\u9ed8\u8ba4\u503c",maxValue:"\u6700\u5927\u503c",minValue:"\u6700\u5c0f\u503c",dataMaxValue:"\u6700\u5927\u65e5\u671f",dataMinValue:"\u6700\u5c0f\u65e5\u671f",stepValue:"\u6b65\u957f",datetype:"\u65e5\u671f\u7c7b\u578b",dateformat:"\u65e5\u671f\u683c\u5f0f",half:"\u663e\u793a\u534a\u661f",theme:"\u76ae\u80a4",rateLength:"\u661f\u661f\u4e2a\u6570",interval:"\u95f4\u9694\u6beb\u79d2",startIndex:"\u5f00\u59cb\u4f4d\u7f6e",full:"\u662f\u5426\u5168\u5c4f",arrow:"\u9f20\u6807\u6837\u5f0f",contents:"\u5185\u5bb9",document:"\u5e2e\u52a9\u6587\u6863",input:"\u8f93\u5165\u6846",select:"\u4e0b\u62c9",checkbox:"\u591a\u9009\u7ec4",radio:"\u5355\u9009\u7ec4",date:"\u65e5\u671f",editor:"iceEditor\u7f16\u8f91\u5668",slider:"\u6ed1\u5757",image:"\u56fe\u7247",grid:"\u4e00\u884c\u591a\u5217",colorpicker:"\u989c\u8272\u9009\u62e9\u5668",textarea:"\u591a\u884c\u6587\u672c",rate:"\u8bc4\u5206\u63a7\u4ef6","switch":"\u5f00\u5173",password:"\u5bc6\u7801\u6846",carousel:"\u8f6e\u64ad",text:"\u663e\u793a\u6587\u672c",uploadUrl:"\u4e0a\u4f20\u8def\u5f84",expression:"\u9a8c\u8bc1",file:"\u6587\u4ef6",autoplay:"\u81ea\u52a8\u5207\u6362",anim:"\u5207\u6362\u65b9\u5f0f",arrow:"\u5207\u6362\u7bad\u5934",tab:"tab\u9009\u9879\u5361",tabHeaders:"tab\u6807\u9898",isInput:"\u663e\u793a\u8f93\u5165\u6846",dateRange:"\u65e5\u671f\u8303\u56f4",dateRangeDefaultValue:"\u9ed8\u8ba4\u8303\u56f4",menu:"\u5934\u90e8\u83dc\u5355",numberInput:"\u6392\u5e8f\u6587\u672c\u6846",iconPicker:"\u56fe\u6807\u9009\u62e9\u5668",iconPickerSearch:"\u662f\u5426\u641c\u7d22",iconPickerPage:"\u662f\u5426\u5206\u9875",iconPickerLimit:"\u663e\u793a\u6570\u91cf",iconPickerCellWidth:"\u56fe\u6807\u5bbd\u5ea6",cron:"Cron\u8868\u8fbe\u5f0f",cronUrl:"\u8fd0\u884c\u8def\u5f84",labelGeneration:"\u6807\u7b7e\u7ec4\u4ef6",isEnter:"\u662f\u5426\u56de\u8f66",buttonIcon:"\u6309\u94ae\u56fe\u6807",buttonType:"\u6309\u94ae\u7c7b\u578b",isLabel:"\u663e\u793a\u6807\u7b7e",buttonSize:"\u7ec4\u4ef6\u5c3a\u5bf8",bottom:"\u6309\u94ae\u7ec4\u4ef6",buttonVlaue:"\u6309\u94ae\u6587\u5b57"},y=[{text:"\u9ed8\u8ba4",value:""},{text:"\u6570\u5b57",value:"number"},{text:"\u90ae\u7bb1",value:"email"},{text:"\u624b\u673a",value:"phone"},{text:"\u8eab\u4efd\u8bc1",value:"identity"},{text:"\u65e5\u671f",value:"date"},{text:"\u7f51\u5740",value:"url"},{text:"\u5bc6\u7801",value:"pass"}],z=[{text:"\u5de6\u53f3\u5207\u6362",value:"default"},{text:"\u4e0a\u4e0b\u5207\u6362",value:"updown"},{text:"\u6e10\u9690\u6e10\u663e\u5207\u6362",value:"fade"}],A=[{text:"\u60ac\u505c\u663e\u793a",value:"hover"},{text:"\u59cb\u7ec8\u663e\u793a",value:"always"},{text:"\u59cb\u7ec8\u4e0d\u663e\u793a",value:"none"}],B=[{text:"\u5e74\u9009\u62e9\u5668",value:"year"},{text:"\u5e74\u6708\u9009\u62e9\u5668",value:"month"},{text:"\u65f6\u95f4\u9009\u62e9\u5668",value:"time"},{text:"\u65e5\u671f\u9009\u62e9\u5668",value:"date"},{text:"\u65e5\u671f\u65f6\u95f4\u9009\u62e9\u5668",value:"datetime"}],v=[{text:"\u539f\u59cb",value:"layui-btn-primary"},{text:"\u9ed8\u8ba4",value:""},{text:"\u767e\u642d",value:"layui-btn-normal"},{text:"\u6696\u8272",value:"layui-btn-warm"},{text:"\u8b66\u544a",value:" layui-btn-danger"}],w=[{text:"\u5927\u578b",value:"layui-btn-lg"},{text:"\u9ed8\u8ba4",value:""},{text:"\u5c0f\u578b",value:"layui-btn-sm"},{text:"\u8ff7\u4f60",value:"layui-btn-xs"}],F="yyyy\u5e74MM\u6708;yyyy-MM-dd;dd/MM/yyyy;yyyyMMdd;yyyy-MM-dd HH:mm:ss;yyyy\u5e74MM\u6708dd\u65e5 HH\u65f6mm\u5206ss\u79d2".split(";"),Q=[{value:"backColor",text:"\u5b57\u4f53\u80cc\u666f\u989c\u8272"},{value:"fontSize",text:"\u5b57\u4f53\u5927\u5c0f"},{value:"foreColor",text:"\u5b57\u4f53\u989c\u8272"},{value:"bold",text:"\u7c97\u4f53"},{value:"italic",text:"\u659c\u4f53"},{value:"underline",text:"\u4e0b\u5212\u7ebf"},{value:"strikeThrough",text:"\u5220\u9664\u7ebf"},{value:"justifyLeft",text:"\u5de6\u5bf9\u9f50"},{value:"justifyCenter",text:"\u5c45\u4e2d\u5bf9\u9f50"},{value:"justifyRight",text:"\u53f3\u5bf9\u9f50"},{value:"indent",text:"\u589e\u52a0\u7f29\u8fdb"},{value:"outdent",text:"\u51cf\u5c11\u7f29\u8fdb"},{value:"insertOrderedList",text:"\u6709\u5e8f\u5217\u8868"},{value:"insertUnorderedList",text:"\u65e0\u5e8f\u5217\u8868"},{value:"superscript",text:"\u4e0a\u6807"},{value:"subscript",text:"\u4e0b\u6807"},{value:"createLink",text:"\u521b\u5efa\u8fde\u63a5"},{value:"unlink",text:"\u53d6\u6d88\u8fde\u63a5"},{value:"hr",text:"\u6c34\u5e73\u7ebf"},{value:"face",text:"\u8868\u60c5"},{value:"table",text:"\u8868\u683c"},{value:"files",text:"\u9644\u4ef6"},{value:"music",text:"\u97f3\u4e50"},{value:"video",text:"\u89c6\u9891"},{value:"insertImage",text:"\u56fe\u7247"},{value:"removeFormat",text:"\u683c\u5f0f\u5316\u6837\u5f0f"},{value:"code",text:"\u6e90\u7801"},{value:"line",text:"\u83dc\u5355\u5206\u5272\u7ebf"}],m=function(a){var b="",c;for(c in a)if("index"!==c)if("tag"===c||"id"===c||"uploadUrl"===c||"document"===c||"interval"===c||"cronUrl"===c)b+='\x3cdiv class\x3d"layui-form-item" \x3e',b+='  \x3clabel class\x3d"layui-form-label"\x3e{0}\x3c/label\x3e'.format(l[c]),b+='  \x3cdiv class\x3d"layui-input-block"\x3e',b="tag"===c?b+'    \x3cinput type\x3d"text" readonly id\x3d"{0}" name\x3d"{0}" value\x3d"{1}" required lay-verify\x3d"required" placeholder\x3d"\u8bf7\u8f93\u5165\u5185\u5bb9" autocomplete\x3d"off" class\x3d"layui-input"\x3e'.format(c,void 0==a[c]?"":a[c]):b+'    \x3cinput type\x3d"text" id\x3d"{0}" name\x3d"{0}" value\x3d"{1}" required lay-verify\x3d"required" placeholder\x3d"\u8bf7\u8f93\u5165\u5185\u5bb9" autocomplete\x3d"off" class\x3d"layui-input"\x3e'.format(c,void 0==a[c]?"":a[c]),b+="  \x3c/div\x3e",b+="\x3c/div\x3e";else if("readonly"===c||"disabled"===c||"required"===c||"half"===c||"text"===c||"autoplay"===c||"full"===c||"verification"===c||"autoplay"===c||"isInput"===c||"expression"===c||"iconPickerSearch"===c||"iconPickerPage"===c||"isEnter"===c||"isLabel"===c){var d="\u662f",g="\u5426";"isInput"===c&&(b+='\x3cdiv class\x3d"layui-form-item" \x3e',b+='  \x3clabel class\x3d"layui-form-label"\x3e{0}\x3c/label\x3e'.format(l[c]),b+='  \x3cdiv class\x3d"layui-input-block"\x3e',b+='    \x3cinput type\x3d"checkbox" id\x3d"{1}" {0} name\x3d"{1}" lay-skin\x3d"switch" lay-text\x3d"{2}|{3}"\x3e'.format(a[c]?"checked":"",c,d,g),b+="  \x3c/div\x3e",b+="\x3c/div\x3e");if("autoplay"===c||"iconPickerSearch"===c||"iconPickerPage"===c)b+='\x3cdiv class\x3d"layui-form-item" \x3e',b+='  \x3clabel class\x3d"layui-form-label"\x3e{0}\x3c/label\x3e'.format(l[c]),b+='  \x3cdiv class\x3d"layui-input-block"\x3e',b+='    \x3cinput type\x3d"checkbox" id\x3d"{1}" {0} name\x3d"{1}" lay-skin\x3d"switch" lay-text\x3d"{2}|{3}"\x3e'.format(a[c]?"checked":"",c,d,g),b+="  \x3c/div\x3e",b+="\x3c/div\x3e";"readonly"===c&&(d="\u53ea\u8bfb",g="\u53ef\u5199",b+='\x3cdiv class\x3d"layui-form-item" \x3e',b+='  \x3clabel class\x3d"layui-form-label"\x3e{0}\x3c/label\x3e'.format(l[c]),b+='  \x3cdiv class\x3d"layui-input-block"\x3e',b+='    \x3cinput type\x3d"checkbox" id\x3d"{1}" {0} name\x3d"{1}" lay-skin\x3d"switch" lay-text\x3d"{2}|{3}"\x3e'.format(a[c]?"checked":"",c,d,g),b+="  \x3c/div\x3e",b+="\x3c/div\x3e");if("isEnter"===c||"isLabel"===c)b+='\x3cdiv class\x3d"layui-form-item" \x3e',b+='  \x3clabel class\x3d"layui-form-label"\x3e{0}\x3c/label\x3e'.format(l[c]),b+='  \x3cdiv class\x3d"layui-input-block"\x3e',b+='    \x3cinput type\x3d"checkbox" id\x3d"{1}" {0} name\x3d"{1}" lay-skin\x3d"switch" lay-text\x3d"{2}|{3}"\x3e'.format(a[c]?"checked":"",c,d,g),b+="  \x3c/div\x3e",b+="\x3c/div\x3e";"disabled"===c&&(d="\u9690\u85cf",g="\u663e\u793a",b+='\x3cdiv class\x3d"layui-form-item" \x3e',b+='  \x3clabel class\x3d"layui-form-label"\x3e{0}\x3c/label\x3e'.format(l[c]),b+='  \x3cdiv class\x3d"layui-input-block"\x3e',b+='    \x3cinput type\x3d"checkbox" id\x3d"{1}" {0} name\x3d"{1}" lay-skin\x3d"switch" lay-text\x3d"{2}|{3}"\x3e'.format(a[c]?"checked":"",c,d,g),b+="  \x3c/div\x3e",b+="\x3c/div\x3e");"required"===c&&(d="\u5fc5\u586b",g="\u53ef\u9009",b+='\x3cdiv class\x3d"layui-form-item" \x3e',b+='  \x3clabel class\x3d"layui-form-label"\x3e{0}\x3c/label\x3e'.format(l[c]),b+='  \x3cdiv class\x3d"layui-input-block"\x3e',b+='    \x3cinput type\x3d"checkbox" id\x3d"{1}" {0} name\x3d"{1}" lay-skin\x3d"switch" lay-text\x3d"{2}|{3}"\x3e'.format(a[c]?"checked":"",c,d,g),b+="  \x3c/div\x3e",b+="\x3c/div\x3e");if("expression"===c){b+='\x3cdiv class\x3d"layui-form-item" \x3e';b+='  \x3clabel class\x3d"layui-form-label"\x3e\u9a8c\u8bc1\x3c/label\x3e';b+='  \x3cdiv class\x3d"layui-input-block"\x3e';b+='\x3cselect name\x3d"{0}" lay-verify\x3d"required"\x3e'.format(c);for(d=0;d<y.length;d++)b=y[d].value===a.expression?b+'\x3coption value\x3d"{0}" selected\x3d""\x3e{1}\x3c/option\x3e'.format(y[d].value,y[d].text):b+'\x3coption value\x3d"{0}"\x3e{1}\x3c/option\x3e'.format(y[d].value,y[d].text);b+="\x3c/select\x3e";b+="  \x3c/div\x3e";b+="\x3c/div\x3e"}}else if("defaultValue"===c||"label"===c||"height"===c||"placeholder"===c||"document"===c||"minValue"===c||"maxValue"===c||"stepValue"===c||"rateLength"===c||"width"===c||"iconPickerLimit"===c||"iconPickerCellWidth"===c||"buttonVlaue"===c)b+='\x3cdiv class\x3d"layui-form-item" \x3e',b+='  \x3clabel class\x3d"layui-form-label"\x3e{0}\x3c/label\x3e'.format(l[c]),b+='  \x3cdiv class\x3d"layui-input-block"\x3e',b+='    \x3cinput type\x3d"text" id\x3d"{0}" name\x3d"{0}" value\x3d"{1}" required lay-verify\x3d"required" placeholder\x3d"\u8bf7\u8f93\u5165{2}" autocomplete\x3d"off" class\x3d"layui-input"\x3e'.format(c,void 0==a[c]?"":a[c],l[c]),b+="  \x3c/div\x3e",b+="\x3c/div\x3e";else if("menu"===c)b+='\x3cdiv class\x3d"layui-form-item" \x3e',b+='  \x3clabel class\x3d"layui-form-label"\x3e{0}\x3c/label\x3e'.format(l[c]),b+='  \x3cdiv class\x3d"layui-input-block"\x3e',b+='    \x3cinput type\x3d"text" id\x3d"{0}" name\x3d"{0}" value\x3d"{1}" readonly\x3d"readonly" style\x3d"background:#eeeeee!important;width: 100%;" placeholder\x3d"\u8bf7\u9009\u62e9{2}" autocomplete\x3d"off" class\x3d"layui-input"\x3e'.format(c,"",l[c]),b+="  \x3c/div\x3e",b+="\x3c/div\x3e";else if("switchValue"===c)b+='\x3cdiv class\x3d"layui-form-item" \x3e',b+='  \x3clabel class\x3d"layui-form-label"\x3e{0}\x3c/label\x3e'.format(l[c]),b+='  \x3cdiv class\x3d"layui-input-block"\x3e',b+='     \x3cinput type\x3d"checkbox" name\x3d"{0}" {1} lay-skin\x3d"switch" lay-text\x3d"ON|OFF"\x3e'.format(c,a[c]?"checked":""),b+="  \x3c/div\x3e",b+="\x3c/div\x3e";else if("datetype"===c){b+='\x3cdiv class\x3d"layui-form-item" \x3e';b+='  \x3clabel class\x3d"layui-form-label"\x3e{0}\x3c/label\x3e'.format(l[c]);b+='  \x3cdiv class\x3d"layui-input-block"\x3e';b+='\x3cselect name\x3d"{0}" lay-verify\x3d"required"\x3e'.format(c);for(d=0;d<B.length;d++)b=B[d].value===a.datetype?b+'\x3coption value\x3d"{0}" selected\x3d""\x3e{1}\x3c/option\x3e'.format(B[d].value,B[d].text):b+'\x3coption value\x3d"{0}"\x3e{1}\x3c/option\x3e'.format(B[d].value,B[d].text);b+="\x3c/select\x3e";b+="  \x3c/div\x3e";b+="\x3c/div\x3e"}else if("dateformat"===c){b+='\x3cdiv class\x3d"layui-form-item" \x3e';b+='  \x3clabel class\x3d"layui-form-label"\x3e{0}\x3c/label\x3e'.format(l[c]);b+='  \x3cdiv class\x3d"layui-input-block"\x3e';b+='\x3cselect name\x3d"{0}" lay-verify\x3d"required"\x3e'.format(c);for(d=0;d<F.length;d++)b=F[d]===a.dateformat?b+'\x3coption value\x3d"{0}" selected\x3d""\x3e{0}\x3c/option\x3e'.format(F[d]):b+'\x3coption value\x3d"{0}"\x3e{0}\x3c/option\x3e'.format(F[d]);b+="\x3c/select\x3e";b+="  \x3c/div\x3e";b+="\x3c/div\x3e"}else if("contents"===c){b+='\x3cdiv class\x3d"layui-form-item" \x3e';b+='  \x3clabel class\x3d"layui-form-label"\x3e{0}\x3c/label\x3e'.format(l[c]);b+='  \x3cdiv class\x3d"layui-input-block"\x3e';b+='    \x3cbutton style\x3d"margin: 5px 0px 0px 30px;" type\x3d"button" id\x3d"select-option-add" class\x3d"layui-btn layui-btn-primary layui-btn-sm"\x3e\x3ci class\x3d"layui-icon layui-icon-addition"\x3e\x3c/i\x3e\u589e\u52a0\u9009\u9879\x3c/button\x3e';b+="  \x3c/div\x3e";b+="\x3c/div\x3e";b+='\x3cdiv id\x3d"{0}"\x3e'.format(a.tag);for(d=0;d<a.contents.length;d++)b+='\x3cdiv class\x3d"layui-form-item option contents-options" data-index\x3d"{0}"\x3e'.format(d),b+='  \x3cdiv class\x3d"layui-inline" style\x3d"margin-right: 0px;width:220px; margin-left:30px;"\x3e',b+='   \x3cinput type\x3d"text" name\x3d"{0}-text"  autocomplete\x3d"off" value\x3d"{1}" class\x3d"layui-input"\x3e'.format(a.tag,a.contents[d]),b+="  \x3c/div\x3e",b+='  \x3cdiv class\x3d"layui-inline" style\x3d"margin-right: 0px;"\x3e',b+='   \x3ci class\x3d"layui-icon layui-icon-slider contents-option-drag" style\x3d"color:blue;font-size:20px;"\x3e\x3c/i\x3e',b+='   \x3ci class\x3d"layui-icon layui-icon-delete contents-option-delete" style\x3d"color:red;font-size:20px;"\x3e\x3c/i\x3e',b+="  \x3c/div\x3e",b+="\x3c/div\x3e";b+="\x3c/div\x3e"}else if("options"===c){b+='\x3cdiv class\x3d"layui-form-item" \x3e';b+='  \x3clabel class\x3d"layui-form-label"\x3e{0}\x3c/label\x3e'.format(l[c]);b+='  \x3cdiv class\x3d"layui-input-block"\x3e';b+='    \x3cbutton style\x3d"margin: 5px 0px 0px 30px;" type\x3d"button" id\x3d"select-option-add" class\x3d"layui-btn layui-btn-primary layui-btn-sm"\x3e\x3ci class\x3d"layui-icon layui-icon-addition"\x3e\x3c/i\x3e\u589e\u52a0\u9009\u9879\x3c/button\x3e';b+="  \x3c/div\x3e";b+="\x3c/div\x3e";b+='\x3cdiv id\x3d"{0}"\x3e'.format(a.tag);for(d=0;d<a.options.length;d++)b+='\x3cdiv class\x3d"layui-form-item option select-options" data-index\x3d"{0}"\x3e'.format(d),b+='  \x3cdiv class\x3d"layui-inline" style\x3d"width: 30px; margin-right: 0px;"\x3e',b="checkbox"===a.tag?a.options[d].checked?b+'    \x3cinput type\x3d"checkbox" name\x3d"{0}" lay-skin\x3d"primary" title\x3d"" checked\x3d""\x3e'.format(a.tag):b+'    \x3cinput type\x3d"checkbox" name\x3d"{0}" lay-skin\x3d"primary" title\x3d""\x3e'.format(a.tag):a.options[d].checked?b+'   \x3cinput type\x3d"radio" name\x3d"{0}"  checked\x3d""\x3e'.format(a.tag):b+'   \x3cinput type\x3d"radio" name\x3d"{0}"\x3e'.format(a.tag),b+="  \x3c/div\x3e",b+='  \x3cdiv class\x3d"layui-inline" style\x3d"margin-right: 0px;width:110px;"\x3e',b+='   \x3cinput type\x3d"text" name\x3d"{0}-text"  autocomplete\x3d"off" value\x3d"{1}" class\x3d"layui-input"\x3e'.format(a.tag,a.options[d].text),b+="  \x3c/div\x3e",b+='  \x3cdiv class\x3d"layui-inline" style\x3d"margin-right: 0px;width:110px;"\x3e',b+='   \x3cinput type\x3d"text" name\x3d"{0}-value"  autocomplete\x3d"off" value\x3d"{1}" class\x3d"layui-input"\x3e'.format(a.tag,a.options[d].value),b+="  \x3c/div\x3e",b+='  \x3cdiv class\x3d"layui-inline" style\x3d"margin-right: 0px;"\x3e',b+='   \x3ci class\x3d"layui-icon layui-icon-slider select-option-drag" style\x3d"color:blue;font-size:20px;"\x3e\x3c/i\x3e',b+='   \x3ci class\x3d"layui-icon layui-icon-delete select-option-delete" style\x3d"color:red;font-size:20px;"\x3e\x3c/i\x3e',b+="  \x3c/div\x3e",b+="\x3c/div\x3e";b+="\x3c/div\x3e"}else if("columns"===c){g=a[c].length;b+='\x3cdiv class\x3d"layui-form-item" \x3e';b+='  \x3clabel class\x3d"layui-form-label"\x3e{0}\x3c/label\x3e'.format(l[c]);b+='  \x3cdiv class\x3d"layui-input-block"\x3e';b+='\x3cselect name\x3d"{0}" lay-verify\x3d"required"\x3e'.format(c);for(d=2;12>=d;d++)b=d===g?b+'\x3coption value\x3d"{0}" selected\x3d""\x3e{0}\x3c/option\x3e'.format(d):b+'\x3coption value\x3d"{0}"\x3e{0}\x3c/option\x3e'.format(d);b+="\x3c/select\x3e";b+="\x3c/div\x3e";b+="\x3c/div\x3e"}else if("anim"===c){b+='\x3cdiv class\x3d"layui-form-item" \x3e';b+='  \x3clabel class\x3d"layui-form-label"\x3e{0}\x3c/label\x3e'.format(l[c]);b+='  \x3cdiv class\x3d"layui-input-block"\x3e';b+='\x3cselect name\x3d"{0}" lay-verify\x3d"required"\x3e'.format(c);for(d=0;d<z.length;d++)b=z[d].value===a.anim?b+' \x3coption value\x3d"{1}" selected\x3d""\x3e{0}\x3c/option\x3e'.format(z[d].text,z[d].value):b+' \x3coption value\x3d"{1}"\x3e{0}\x3c/option\x3e'.format(z[d].text,z[d].value);b+="\x3c/select\x3e";b+="\x3c/div\x3e";b+="\x3c/div\x3e"}else if("arrow"===c){b+='\x3cdiv class\x3d"layui-form-item" \x3e';b+='  \x3clabel class\x3d"layui-form-label"\x3e{0}\x3c/label\x3e'.format(l[c]);b+='  \x3cdiv class\x3d"layui-input-block"\x3e';b+='\x3cselect name\x3d"{0}" lay-verify\x3d"required"\x3e'.format(c);for(d=0;d<A.length;d++)b=A[d].value===a.arrow?b+' \x3coption value\x3d"{1}" selected\x3d""\x3e{0}\x3c/option\x3e'.format(A[d].text,A[d].value):b+' \x3coption value\x3d"{1}"\x3e{0}\x3c/option\x3e'.format(A[d].text,A[d].value);b+="\x3c/select\x3e";b+="\x3c/div\x3e";b+="\x3c/div\x3e"}else if("buttonType"===c){b+='\x3cdiv class\x3d"layui-form-item" \x3e';b+='  \x3clabel class\x3d"layui-form-label"\x3e{0}\x3c/label\x3e'.format(l[c]);b+='  \x3cdiv class\x3d"layui-input-block"\x3e';b+='\x3cselect name\x3d"{0}" lay-verify\x3d"required"\x3e'.format(c);for(d=0;d<v.length;d++)b=v[d].value===a.buttonType?""===v[d].value?b+' \x3coption selected\x3d""\x3e{0}\x3c/option\x3e'.format(v[d].text):b+' \x3coption value\x3d"{1}" selected\x3d""\x3e{0}\x3c/option\x3e'.format(v[d].text,v[d].value):b+' \x3coption value\x3d"{1}"\x3e{0}\x3c/option\x3e'.format(v[d].text,v[d].value);b+="\x3c/select\x3e";b+="\x3c/div\x3e";b+="\x3c/div\x3e"}else if("buttonSize"===c){b+='\x3cdiv class\x3d"layui-form-item" \x3e';b+='  \x3clabel class\x3d"layui-form-label"\x3e{0}\x3c/label\x3e'.format(l[c]);b+='  \x3cdiv class\x3d"layui-input-block"\x3e';b+='\x3cselect name\x3d"{0}" lay-verify\x3d"required"\x3e'.format(c);for(d=0;d<w.length;d++)b=w[d].value===a.buttonSize?""===w[d].value?b+' \x3coption selected\x3d""\x3e{0}\x3c/option\x3e'.format(w[d].text):b+' \x3coption value\x3d"{1}" selected\x3d""\x3e{0}\x3c/option\x3e'.format(w[d].text,w[d].value):b+' \x3coption value\x3d"{1}"\x3e{0}\x3c/option\x3e'.format(w[d].text,w[d].value);b+="\x3c/select\x3e";b+="\x3c/div\x3e";b+="\x3c/div\x3e"}else"dataMaxValue"===c||"dataMinValue"===c?(b+='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item"\x3e'.format(c+a.id),b+='\x3clabel class\x3d"layui-form-label"\x3e{0}:\x3c/label\x3e'.format(l[c]),b+='\x3cdiv class\x3d"layui-input-block""\x3e',b+='\x3cdiv id\x3d"{0}" class\x3d"layui-input icon-date widget-date" style\x3d"line-height: 40px;"\x3e\x3c/div\x3e'.format(c+a.tag+a.id),b+="\x3c/div\x3e",b+="\x3c/div\x3e"):"dateDefaultValue"===c?(b+='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item"\x3e'.format(c+a.id),b+='\x3clabel class\x3d"layui-form-label"\x3e{0}:\x3c/label\x3e'.format(l[c]),b+='\x3cdiv class\x3d"layui-input-block""\x3e',b+='\x3cdiv id\x3d"{0}" class\x3d"layui-input icon-date widget-date" style\x3d"line-height: 40px;"\x3e\x3c/div\x3e'.format(c+a.tag+a.id),b+="\x3c/div\x3e",b+="\x3c/div\x3e"):"dateRangeDefaultValue"===c?(b+='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item"\x3e'.format(c+a.id),b+='\x3clabel class\x3d"layui-form-label"\x3e{0}:\x3c/label\x3e'.format(l[c]),b+='\x3cdiv class\x3d"layui-input-block""\x3e',b+='\x3cdiv id\x3d"{0}" class\x3d"layui-input icon-date widget-date" style\x3d"line-height: 40px;"\x3e\x3c/div\x3e'.format(c+a.tag+a.id),b+="\x3c/div\x3e",b+="\x3c/div\x3e"):"buttonIcon"===c&&(b+='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item" "\x3e'.format(c+a.id),b+='\x3clabel class\x3d"layui-form-label"\x3e{0}:\x3c/label\x3e'.format(l[c]),b+='\x3cdiv class\x3d"layui-input-block""\x3e',b+='\x3cdiv id\x3d"{0}" class\x3d"layui-input icon-date widget-date" style\x3d"line-height: 40px;"\x3e\x3c/div\x3e'.format(a.tag+a.id+"property"),b+="\x3c/div\x3e",b+="\x3c/div\x3e");return b},G={index:layui.formDesigner?layui.formDesigner.index+1E4:0,set:function(a){this.config=f.extend({},this.config,a);return this},on:function(a,b){return layui.onevent.call(this,"formDesigner",a,b)}},R=function(){var a=this,b=a.config;return{reload:function(b){a.reload.call(a,b)},getOptions:function(){return b||null},getData:function(){return b.data||null},geticeEditorObjects:function(){return E||null}}},p=function(a){this.index=++G.index;this.config=f.extend({},this.config,G.config,a);this.render()};String.prototype.format=function(a){var b=this;if(0<arguments.length)if(1==arguments.length&&"object"==typeof a)for(var c in a){if(void 0!=a[c])var d=new RegExp("({"+c+"})","g"),b=b.replace(d,a[c])}else for(c=0;c<arguments.length;c++)void 0!=arguments[c]&&(d=new RegExp("({["+c+"]})","g"),b=b.replace(d,arguments[c]));return b};p.prototype.findJsonItem=function(a,b){for(var c=0;c<a.length;c++){if(a[c].id===b)return a[c];if("grid"===a[c].tag)for(var d=0;d<a[c].columns.length;d++)if(0<a[c].columns[d].list.length){var g=this.findJsonItem(a[c].columns[d].list,b);if(g)return g}}};p.prototype.deleteJsonItem=function(a,b){for(var c=0;c<a.length;c++)if(a[c].id===b){a.splice(c,1);if(0<c)return a[c-1];break}else if("grid"===a[c].tag)for(var d=0;d<a[c].columns.length;d++)0<a[c].columns[d].list.length&&this.deleteJsonItem(a[c].columns[d].list,b)};p.prototype.copyJsonAfterItem=function(a,b){for(var c=0;c<a.length;c++){if(a[c].id===b){var d=JSON.parse(JSON.stringify(a[c]));d.id=this.autoId(d.tag);a.splice(c+1,0,d);return a[c]}if("grid"===a[c].tag)for(d=0;d<a[c].columns.length;d++)if(0<a[c].columns[d].list.length){var g=this.copyJsonAfterItem(a[c].columns[d].list,b);if(g)return g}}};p.prototype.config={version:"1.0.0",formName:"\u8868\u5355\u793a\u4f8b",Author:"\u8c01\u5bb6\u6ca1\u4e00\u4e2a\u5c0f\u5f3a",formId:"id",generateId:0,data:[],dataSource:{},selectItem:void 0,htmlCode:{css:"",html:"",script:""}};p.prototype.autoId=function(a){var b=this.config;b.generateId+=1;return a+"_"+b.generateId};p.prototype.components={input:{render:function(a,b){void 0===b&&(b=!1);var c=a.disabled?'disabled\x3d""':"",d=a.disabled?" layui-disabled":"",g=a.readonly?'readonly\x3d""':"",e=a.required?"required":"";null!==a.expression&&void 0!==a.expression&&""!==a.expression&&(e=e+"|"+a.expression);var f='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,b?"active":"",a.index),f=f+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),f=f+'\x3cdiv class\x3d"layui-input-block"\x3e'+'\x3cinput name\x3d"{0}" value\x3d"{1}" placeholder\x3d"{3}" class\x3d"layui-input{7}" lay-vertype\x3d"tips" lay-verify\x3d"{6}" {4} {5} style\x3d"width:{2}"\x3e'.format(a.id,a.defaultValue?a.defaultValue:"",a.width,a.placeholder,g,c,e,d);return f+"\x3c/div\x3e\x3c/div\x3e"},update:function(a){var b=a.disabled?'disabled\x3d""':"",c=a.readonly?'readonly\x3d""':"",d=a.required?"required":"",g=a.disabled?" layui-disabled":"";null!==a.expression&&void 0!==a.expression&&""!==a.expression&&(d="required|"+a.expression);f("#"+a.id+" .layui-input-block").empty();b=""+'\x3cinput name\x3d"{0}" value\x3d"{1}" placeholder\x3d"{3}" class\x3d"layui-input{7}" lay-vertype\x3d"tips" lay-verify\x3d"{6}" {4} {5} style\x3d"width:{2}"\x3e'.format(a.id,a.defaultValue?a.defaultValue:"",a.width,a.placeholder,c,b,d,g);f("#"+a.id+" .layui-input-block").append(b)},jsonData:function(a,b,c){c=JSON.parse(JSON.stringify(k.input));c.id=void 0==a?autoId(c.tag):a;c.index=b;return c},property:function(a){f("#columnProperty").empty();var b;b=m(a);for(var c in a);f("#columnProperty").append(b)}},bottom:{render:function(a,b){void 0===b&&(b=!1);var c="";"layui-btn-lg"===a.buttonSize&&(c="custom-lg");""===a.buttonSize&&(c="custom-zc");"layui-btn-sm"===a.buttonSize&&(c="custom-sm");"layui-btn-xs"===a.buttonSize&&(c="custom-xs");var d='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,b?"active":"",a.index);a.isLabel&&(d+='\x3clabel class\x3d"layui-form-label"\x3e{0}:\x3c/label\x3e'.format(a.label));d+='\x3cdiv class\x3d"layui-input-block" style\x3d"margin-left: 0px;"\x3e';d=a.disabled?d+'\x3cbutton id\x3d"{0}" type\x3d"button" class\x3d"layui-btn {1} layui-btn-disabled {2}"\x3e\x3ci class\x3d"layui-icon {3}"\x3e\x3c/i\x3e {4}\x3c/button\x3e'.format(a.id+a.tag,a.buttonSize,c,a.buttonIcon,a.buttonVlaue):d+'\x3cbutton id\x3d"{0}" type\x3d"button" class\x3d"layui-btn {1} {2} {3}"\x3e\x3ci class\x3d"layui-icon {4}"\x3e\x3c/i\x3e {5}\x3c/button\x3e'.format(a.id+a.tag,a.buttonSize,a.buttonType,c,a.buttonIcon,a.buttonVlaue);return d+"\x3c/div\x3e\x3c/div\x3e"},update:function(a){a.isLabel?0===f("#"+a.id).find("label").length&&f("#"+a.id).prepend('\x3clabel class\x3d"layui-form-label"\x3e{0}:\x3c/label\x3e'.format(a.label)):(f("#"+a.id+" .layui-form-label").remove(),f("#"+a.id+" .layui-input-block").css("margin-left","0px"));f("#"+a.id+" .layui-input-block").empty();var b="",c="";"layui-btn-lg"===a.buttonSize&&(c="custom-lg");""===a.buttonSize&&(c="custom-zc");"layui-btn-sm"===a.buttonSize&&(c="custom-sm");"layui-btn-xs"===a.buttonSize&&(c="custom-xs");b=a.disabled?b+'\x3cbutton id\x3d"{0}" type\x3d"button" class\x3d"layui-btn {1} layui-btn-disabled {2}"\x3e\x3ci class\x3d"layui-icon {3}"\x3e\x3c/i\x3e {4}\x3c/button\x3e'.format(a.id+a.tag,a.buttonSize,c,a.buttonIcon,a.buttonVlaue):b+'\x3cbutton id\x3d"{0}" type\x3d"button" class\x3d"layui-btn {1} {2} {3}"\x3e\x3ci class\x3d"layui-icon {4}"\x3e\x3c/i\x3e {5}\x3c/button\x3e'.format(a.id+a.tag,a.buttonSize,a.buttonType,c,a.buttonIcon,a.buttonVlaue);f("#"+a.id+" .layui-input-block").append(b)},jsonData:function(a,b,c){c=JSON.parse(JSON.stringify(k.bottom));c.id=void 0==a?autoId(c.tag):a;c.index=b;return c},property:function(a){f("#columnProperty").empty();var b;b=m(a);for(var c in a);f("#columnProperty").append(b)}},iconPicker:{render:function(a,b){void 0===b&&(b=!1);var c=a.disabled?'disabled\x3d""':"",d=a.disabled?" layui-disabled":"",g='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,b?"active":"",a.index),g=g+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),g=g+'\x3cdiv class\x3d"layui-input-block"\x3e'+'\x3cinput name\x3d"{0}" id\x3d"{6}" value\x3d"{1}" placeholder\x3d"{3}" class\x3d"layui-input{5}" lay-filter\x3d"iconPicker" lay-vertype\x3d"tips" {4} style\x3d"width:{2}"\x3e'.format(a.id,a.defaultValue?a.defaultValue:"",a.width,a.placeholder,c,d,a.tag+a.id);return g+"\x3c/div\x3e\x3c/div\x3e"},update:function(a){var b=a.disabled?'disabled\x3d""':"",c=a.disabled?" layui-disabled":"";f("#"+a.id+" .layui-input-block").empty();b=""+'\x3cinput name\x3d"{0}" value\x3d"{1}" id\x3d"{6}" placeholder\x3d"{3}" class\x3d"layui-input{5}" lay-filter\x3d"iconPicker" lay-vertype\x3d"tips" {4} style\x3d"width:{2}"\x3e'.format(a.id,a.defaultValue?a.defaultValue:"",a.width,a.placeholder,b,c,a.tag+a.id);f("#"+a.id+" .layui-input-block").append(b);x.render({elem:"#"+a.tag+a.id,type:"fontClass",search:a.iconPickerSearch,page:a.iconPickerPage,limit:a.iconPickerLimit,cellWidth:a.iconPickerCellWidth,click:function(a){},success:function(a){}});x.checkIcon(a.tag+a.id,"")},jsonData:function(a,b,c){c=JSON.parse(JSON.stringify(k.iconPicker));c.id=void 0==a?autoId(c.tag):a;c.index=b;return c},property:function(a){f("#columnProperty").empty();var b;b=m(a);for(var c in a);f("#columnProperty").append(b)}},cron:{render:function(a,b){void 0===b&&(b=!1);var c=a.disabled?'disabled\x3d""':"",d=a.disabled?" layui-disabled":"",g=a.width.replace(/[^\d]/g,"");""!=g&&(g=100-parseInt(g));var e='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,b?"active":"",a.index),e=e+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),e=e+'\x3cdiv class\x3d"layui-input-block"\x3e'+'\x3cinput type\x3d"cronExpression" name\x3d"{0}" id\x3d"{6}" value\x3d"{1}" placeholder\x3d"{3}" class\x3d"layui-input{5}" lay-filter\x3d"iconPicker" lay-vertype\x3d"tips" {4} style\x3d"width:{2}"\x3e'.format(a.id,a.defaultValue?a.defaultValue:"",a.width,a.placeholder,c,d,a.tag+a.id);a.disabled||(e+='\x3cbutton id\x3d"{0}-button" style\x3d"position: absolute;top: 0;right: {1}%;cursor: pointer;" type\x3d"button" class\x3d"layui-btn"\x3e\u751f\u6210\x3c/button\x3e'.format(a.tag+a.id,g));return e+"\x3c/div\x3e\x3c/div\x3e"},update:function(a){var b=a.disabled?'disabled\x3d""':"",c=a.disabled?" layui-disabled":"";f("#"+a.id+" .layui-input-block").empty();b=""+'\x3cinput name\x3d"{0}" value\x3d"{1}" id\x3d"{6}" placeholder\x3d"{3}" class\x3d"layui-input{5}" lay-filter\x3d"iconPicker" lay-vertype\x3d"tips" {4} style\x3d"width:{2}"\x3e'.format(a.id,a.defaultValue?a.defaultValue:"",a.width,a.placeholder,b,c,a.tag+a.id);a.disabled?f("#"+a.id+" .layui-input-block").append(b):(c=a.width.replace(/[^\d]/g,""),""!=c&&(c=100-parseInt(c)),b+='\x3cbutton id\x3d"{0}-button" style\x3d"position: absolute;top: 0;right: {1}%;cursor: pointer;" type\x3d"button" class\x3d"layui-btn"\x3e\u751f\u6210\x3c/button\x3e'.format(a.tag+a.id,c),f("#"+a.id+" .layui-input-block").append(b),M.render({elem:"#"+a.tag+a.id+"-button",url:a.cronUrl,done:function(b){f("#"+a.tag+a.id).val(b)}}))},jsonData:function(a,b,c){c=JSON.parse(JSON.stringify(k.cron));c.id=void 0==a?autoId(c.tag):a;c.index=b;return c},property:function(a){f("#columnProperty").empty();var b;b=m(a);for(var c in a);f("#columnProperty").append(b)}},numberInput:{render:function(a,b){void 0===b&&(b=!1);var c=a.disabled?'disabled\x3d""':"",d=a.disabled?" layui-disabled":"",g='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,b?"active":"",a.index),g=g+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),g=g+'\x3cdiv class\x3d"layui-input-block"\x3e'+'\x3cinput name\x3d"{0}" id\x3d"{9}" value\x3d"{1}" placeholder\x3d"{3}" class\x3d"layui-input{5}" lay-vertype\x3d"tips" min\x3d"{6}" max\x3d"{7}" step\x3d"{8}"  {4} style\x3d"width:{2}"\x3e'.format(a.id,a.defaultValue?a.defaultValue:"0",a.width,a.placeholder,c,d,a.minValue,a.maxValue,a.stepValue,a.tag+a.id);return g+"\x3c/div\x3e\x3c/div\x3e"},update:function(a){var b=a.disabled?'disabled\x3d""':"",c=a.disabled?" layui-disabled":"";f("#"+a.id+" .layui-input-block").empty();b=""+'\x3cinput name\x3d"{0}" id\x3d"{9}" value\x3d"{1}" placeholder\x3d"{3}" class\x3d"layui-input{5}" lay-vertype\x3d"tips" min\x3d"{6}" max\x3d"{7}" step\x3d"{8}"  {4} style\x3d"width:{2}"\x3e'.format(a.id,a.defaultValue?a.defaultValue:"0",a.width,a.placeholder,b,c,a.minValue,a.maxValue,a.stepValue,a.tag+a.id);f("#"+a.id+" .layui-input-block").append(b);L.render({elem:"#"+a.tag+a.id});b=a.width.replace(/[^\d]/g,"");""!=b&&(b=100-parseInt(b));f("#"+a.id+" .layui-input-block .layui-number-input-btn").css("right",b+"%");a.disabled&&f("#"+a.id+" .layui-input-block .layui-number-input-btn").css("z-index","-1")},jsonData:function(a,b,c){c=JSON.parse(JSON.stringify(k.numberInput));c.id=void 0==a?autoId(c.tag):a;c.index=b;return c},property:function(a){f("#columnProperty").empty();var b;b=m(a);for(var c in a);f("#columnProperty").append(b)}},labelGeneration:{render:function(a,b){void 0===b&&(b=!1);var c='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,b?"active":"",a.index),c=c+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),c=c+'\x3cdiv class\x3d"layui-input-block"\x3e'+'\x3cdiv id\x3d"{0}"\x3e\x3c/div\x3e'.format(a.tag+a.id);return c+"\x3c/div\x3e\x3c/div\x3e"},update:function(a){f("#"+a.id+" .layui-input-block").empty();var b;b=""+'\x3cdiv id\x3d"{0}"\x3e\x3c/div\x3e'.format(a.tag+a.id);f("#"+a.id+" .layui-input-block").append(b);N.render({elem:"#"+a.tag+a.id,data:a.dateDefaultValue,isEnter:a.isEnter})},jsonData:function(a,b,c){c=JSON.parse(JSON.stringify(k.labelGeneration));c.id=void 0==a?autoId(c.tag):a;c.index=b;return c},property:function(a){f("#columnProperty").empty();var b;b=m(a);for(var c in a);f("#columnProperty").append(b)}},password:{render:function(a,b){void 0===b&&(b=!1);var c=a.disabled?'disabled\x3d""':"",d=a.readonly?'readonly\x3d""':"",g=a.required?'lay-verify\x3d"required"':"",e=a.disabled?" layui-disabled":"",f='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,b?"active":"",a.index),f=f+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),f=f+'\x3cdiv class\x3d"layui-input-block"\x3e'+'\x3cinput type\x3d"password" name\x3d"{0}" placeholder\x3d"{3}" value\x3d"{1}" autocomplete\x3d"off" style\x3d"width:{2}" {4}  {5} {6} class\x3d"layui-input{7}"\x3e'.format(a.id,a.defaultValue?a.defaultValue:"",a.width,a.placeholder,d,c,g,e);return f+"\x3c/div\x3e\x3c/div\x3e"},update:function(a){var b=a.disabled?'disabled\x3d""':"",c=a.readonly?'readonly\x3d""':"",d=a.required?'lay-verify\x3d"required"':"",g=a.disabled?" layui-disabled":"";f("#"+a.id+" .layui-input-block").empty();b=""+'\x3cinput type\x3d"password" name\x3d"{0}" placeholder\x3d"{3}" value\x3d"{1}" autocomplete\x3d"off" style\x3d"width:{2}" {4} {5} {6} class\x3d"layui-input{7}"\x3e'.format(a.id,a.defaultValue?a.defaultValue:"",a.width,a.placeholder,c,b,d,g);f("#"+a.id+" .layui-input-block").append(b)},jsonData:function(a,b,c){c=JSON.parse(JSON.stringify(k.password));c.id=void 0==a?r():a;c.index=b;return c},property:function(a){f("#columnProperty").empty();var b;b=m(a);for(var c in a);f("#columnProperty").append(b)}},select:{render:function(a,b){void 0===b&&(b=!1);for(var c=a.disabled?'disabled\x3d""':"",d='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,b?"active":"",a.index),d=d+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),d=d+'\x3cdiv class\x3d"layui-input-block layui-form" lay-filter\x3d"{0}"\x3e'.format(a.id),d=d+'\x3cselect name\x3d"{0}" lay-verify\x3d"required" {1} \x3e'.format(a.id,c),c=0;c<a.options.length;c++)d=a.options[c].checked?d+'\x3coption value\x3d"{0}" selected\x3d""\x3e{1}\x3c/option\x3e'.format(a.options[c].value,a.options[c].text):d+'\x3coption value\x3d"{0}"\x3e{1}\x3c/option\x3e'.format(a.options[c].value,a.options[c].text);return d+"\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e"},update:function(a){var b=a.disabled?'disabled\x3d""':"";f("#"+a.id+" .layui-input-block").empty();for(var b=""+'\x3cselect name\x3d"{0}" lay-verify\x3d"required" {1}\x3e'.format(a.id,b),c=0;c<a.options.length;c++)b=a.options[c].checked?b+'\x3coption value\x3d"{0}" selected\x3d""\x3e{1}\x3c/option\x3e'.format(a.options[c].value,a.options[c].text):b+'\x3coption value\x3d"{0}"\x3e{1}\x3c/option\x3e'.format(a.options[c].value,a.options[c].text);b+="\x3c/select\x3e";f("#"+a.id+" .layui-input-block").append(b);q.render("select",a.id);f("#"+a.id+" .layui-input-block div.layui-unselect.layui-form-select").css({width:"{0}".format(a.width)})},jsonData:function(a,b,c){c=JSON.parse(JSON.stringify(k.select));c.id=void 0==a?r():a;c.index=b;return c},property:function(a){f("#columnProperty").empty();var b;b=m(a);for(var c in a);f("#columnProperty").append(b)}},radio:{render:function(a,b){void 0===b&&(b=!1);for(var c=a.disabled?'disabled\x3d""':"",d='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,b?"active":"",a.index),d=d+'\x3clabel class\x3d"layui-form-label"\x3e{0}:\x3c/label\x3e'.format(a.label),d=d+'\x3cdiv class\x3d"layui-input-block"\x3e',g=0;g<a.options.length;g++)d=a.options[g].checked?d+'\x3cinput type\x3d"radio" name\x3d"{0}" value\x3d"{1}" title\x3d"{2}" checked\x3d"" {3}\x3e'.format(a.id,a.options[g].value,a.options[g].text,c):d+'\x3cinput type\x3d"radio" name\x3d"{0}" value\x3d"{1}" title\x3d"{2}" {3}\x3e'.format(a.id,a.options[g].value,a.options[g].text,c);return d+"\x3c/div\x3e\x3c/div\x3e"},update:function(a){var b=a.disabled?'disabled\x3d""':"";f("#"+a.id+" .layui-input-block").empty();for(var c="",d=0;d<a.options.length;d++)c=a.options[d].checked?c+'\x3cinput type\x3d"radio" name\x3d"{0}" value\x3d"{1}" title\x3d"{2}" checked\x3d"" {3}\x3e'.format(a.id,a.options[d].value,a.options[d].text,b):c+'\x3cinput type\x3d"radio" name\x3d"{0}" value\x3d"{1}" title\x3d"{2}" {3}\x3e'.format(a.id,a.options[d].value,a.options[d].text,b);f("#"+a.id+" .layui-input-block").append(c);q.render("radio")},jsonData:function(a,b,c){c=JSON.parse(JSON.stringify(k.radio));c.id=void 0==a?r():a;c.index=b;return c},property:function(a){f("#columnProperty").empty();var b;b=m(a);for(var c in a);f("#columnProperty").append(b)}},checkbox:{render:function(a,b){void 0===b&&(b=!1);for(var c=a.disabled?'disabled\x3d""':"",d=a.required?'lay-verify\x3d"otherReq"':"",g='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,b?"active":"",a.index),g=g+'\x3clabel class\x3d"layui-form-label"\x3e{0}:\x3c/label\x3e'.format(a.label),g=g+'\x3cdiv class\x3d"layui-input-block"\x3e',e=0;e<a.options.length;e++)g=a.options[e].checked?g+'\x3cinput type\x3d"checkbox" name\x3d"{0}[{1}]" title\x3d"{2}" checked\x3d"" {3} {4}\x3e'.format(a.id,a.options[e].value,a.options[e].text,c,d):g+'\x3cinput type\x3d"checkbox" name\x3d"{0}[{1}]" title\x3d"{2}" {3} {4}\x3e'.format(a.id,a.options[e].value,a.options[e].text,c,d);return g+"\x3c/div\x3e\x3c/div\x3e"},update:function(a){var b=a.disabled?'disabled\x3d""':"",c=a.required?'lay-verify\x3d"otherReq"':"";f("#"+a.id+" .layui-input-block").empty();for(var d="",g=0;g<a.options.length;g++)d=a.options[g].checked?d+'\x3cinput type\x3d"checkbox" name\x3d"{0}[{1}]" title\x3d"{2}" checked\x3d"" {3} {4}\x3e'.format(a.id,a.options[g].value,a.options[g].text,b,c):d+'\x3cinput type\x3d"checkbox" name\x3d"{0}[{1}]" title\x3d"{2}" {3} {4}\x3e'.format(a.id,a.options[g].value,a.options[g].text,b,c);f("#"+a.id+" .layui-input-block").append(d);q.render("checkbox")},jsonData:function(a,b,c){c=JSON.parse(JSON.stringify(k.checkbox));c.id=void 0==a?r():a;c.index=b;return c},property:function(a){f("#columnProperty").empty();var b;b=m(a);for(var c in a);f("#columnProperty").append(b)}},"switch":{render:function(a,b){void 0===b&&(b=!1);var c=a.disabled?'disabled\x3d""':"",d=a.disabled?" layui-disabled":"",g='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,b?"active":"",a.index),g=g+'\x3clabel class\x3d"layui-form-label"\x3e{0}:\x3c/label\x3e'.format(a.label),g=g+'\x3cdiv class\x3d"layui-input-block" style\x3d"border: 1px solid #d2d2d2;border-left: 0px;"\x3e'+'\x3cinput type\x3d"checkbox" name\x3d"{0}" lay-skin\x3d"switch" lay-text\x3d"ON|OFF" {1} class\x3d"{2}" {3}\x3e'.format(a.id,c,d,a.switchValue?"checked":"");return g+"\x3c/div\x3e\x3c/div\x3e"},update:function(a){var b=a.disabled?'disabled\x3d""':"",c=a.disabled?" layui-disabled":"";f("#"+a.id+" .layui-input-block").empty();b=""+'\x3cinput type\x3d"checkbox" name\x3d"{0}" lay-skin\x3d"switch" lay-text\x3d"ON|OFF" {1} class\x3d"{2}" {3}\x3e'.format(a.tag,b,c,a.switchValue?"checked":"");f("#"+a.id+" .layui-input-block").append(b);q.render("checkbox")},jsonData:function(a,b,c){c=JSON.parse(JSON.stringify(k["switch"]));c.id=void 0==a?r():a;c.index=b;return c},property:function(a){f("#columnProperty").empty();var b;b=m(a);for(var c in a);f("#columnProperty").append(b)}},slider:{render:function(a,b){void 0===b&&(b=!1);var c='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,b?"active":"",a.index),c=c+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),c=c+'\x3cdiv class\x3d"layui-input-block layui-form" style\x3d"width:calc({0} - 110px);"\x3e'.format(a.width),c=c+'\x3cdiv id\x3d"{0}" class\x3d"widget-slider"\x3e\x3c/div\x3e'.format(a.tag+a.id),c=c+'\x3cinput name\x3d"{0}" type\x3d"hidden" value\x3d"{1}"\x3e\x3c/input\x3e'.format(a.id,a.defaultValue);return c+"\x3c/div\x3e\x3c/div\x3e"},update:function(a){f("#"+a.id+" .layui-input-block").css({width:"calc({0} - 110px".format(a.width)});C.render({elem:"#"+a.tag+a.id,value:a.defaultValue,min:a.minValue,max:a.maxValue,step:a.stepValue,disabled:a.disabled,input:a.isInput})},jsonData:function(a,b,c){c=JSON.parse(JSON.stringify(k.slider));c.id=void 0==a?r():a;c.index=b;return c},property:function(a){f("#columnProperty").empty();var b;b=m(a);for(var c in a);f("#columnProperty").append(b)}},dateRange:{render:function(a,b){void 0===b&&(b=!1);var c=a.disabled?" layui-disabled":"",d=a.disabled?" pointer-events: none;":"",g='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,b?"active":"",a.index),g=g+'\x3cdiv class\x3d"layui-inline"\x3e'+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),g=g+'\x3cdiv class\x3d"layui-inline" id\x3d"{0}" style\x3d"line-height: 40px;{1}"\x3e'.format(a.tag+a.id,d),g=g+'\x3cdiv class\x3d"layui-input-inline"\x3e'+'\x3cinput id\x3d"start-{0}" name\x3d"start{2}" class\x3d"layui-input {1}" autocomplete\x3d"off" placeholder\x3d"\u5f00\u59cb\u65e5\u671f"\x3e\x3c/input\x3e'.format(a.tag+a.id,c,a.id),g=g+'\x3c/div\x3e\x3cdiv class\x3d"layui-form-mid"\x3e-\x3c/div\x3e\x3cdiv class\x3d"layui-input-inline"\x3e'+'\x3cinput id\x3d"end-{0}" name\x3d"end{2}" class\x3d"layui-input {1}" autocomplete\x3d"off" placeholder\x3d"\u7ed3\u675f\u65e5\u671f"\x3e\x3c/input\x3e'.format(a.tag+a.id,c,a.id);return g+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"},update:function(a){var b=a.disabled?" layui-disabled":"",c=a.disabled?" pointer-events: none;":"",d;d='\x3cdiv class\x3d"layui-inline"\x3e'+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label);d+='\x3cdiv class\x3d"layui-inline" id\x3d"{0}" style\x3d"line-height: 40px;{1}"\x3e'.format(a.tag+a.id,c);d=d+'\x3cdiv class\x3d"layui-input-inline"\x3e'+'\x3cinput id\x3d"start-{0}" name\x3d"start{2}" class\x3d"layui-input {1}" autocomplete\x3d"off" placeholder\x3d"\u5f00\u59cb\u65e5\u671f" \x3e\x3c/input\x3e'.format(a.tag+a.id,b,a.id);d=d+'\x3c/div\x3e\x3cdiv class\x3d"layui-form-mid"\x3e-\x3c/div\x3e\x3cdiv class\x3d"layui-input-inline"\x3e'+'\x3cinput id\x3d"end-{0}" name\x3d"end{2}" class\x3d"layui-input {1}" autocomplete\x3d"off" placeholder\x3d"\u7ed3\u675f\u65e5\u671f"\x3e\x3c/input\x3e'.format(a.tag+a.id,b,a.id);d+="\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";f("#"+a.id).empty();f("#"+a.id).append(d);t.render({elem:"#"+a.tag+a.id,type:a.datetype,format:a.dateformat,min:a.dataMinValue,max:a.dataMaxValue,range:["#start-"+a.tag+a.id,"#end-"+a.tag+a.id]});null!==a.dateRangeDefaultValue&&""!==a.dateRangeDefaultValue&&void 0!==a.dateRangeDefaultValue&&(b=a.dateRangeDefaultValue.split(" - "),f("#start-"+a.tag+a.id).val(b[0]),f("#end-"+a.tag+a.id).val(b[1]))},jsonData:function(a,b,c){c=JSON.parse(JSON.stringify(k.dateRange));c.id=void 0==a?r():a;c.index=b;return c},property:function(a){f("#columnProperty").empty();var b;b=m(a);for(var c in a);f("#columnProperty").append(b)}},date:{render:function(a,b){void 0===b&&(b=!1);var c=a.disabled?" layui-disabled":"",d=a.disabled?" pointer-events: none;":"",g='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,b?"active":"",a.index),g=g+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),g=g+'\x3cdiv class\x3d"layui-input-block" style\x3d"width:calc({0} - 110px);"\x3e'.format(a.width),g=g+'\x3cinput id\x3d"{0}" name\x3d"{0}" class\x3d"layui-input icon-date widget-date {1}" style\x3d"line-height: 40px;{2}"\x3e\x3c/input\x3e'.format(a.tag+a.id,c,d);return g+"\x3c/div\x3e\x3c/div\x3e"},update:function(a){var b='\x3cinput id\x3d"{0}" name\x3d"{0}" class\x3d"layui-input icon-date widget-date {1}" style\x3d"line-height: 40px;{2}"\x3e\x3c/input\x3e'.format(a.tag+a.id,a.disabled?" layui-disabled":"",a.disabled?" pointer-events: none;":"");f("#"+a.id+" .layui-input-block").empty();f("#"+a.id+" .layui-input-block").append(b);f("#"+a.id+" .layui-input-block").css({width:"calc({0} - 110px".format(a.width)});t.render({elem:"#"+a.tag+a.id,btns:["confirm"],type:a.datetype,format:a.dateformat,value:a.dateDefaultValue,min:a.dataMinValue,max:a.dataMaxValue})},jsonData:function(a,b,c){c=JSON.parse(JSON.stringify(k.date));c.id=void 0==a?r():a;c.index=b;return c},property:function(a){f("#columnProperty").empty();var b;b=m(a);for(var c in a);f("#columnProperty").append(b)}},rate:{render:function(a,b){void 0===b&&(b=!1);var c='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,b?"active":"",a.index),c=c+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),c=c+'\x3cdiv class\x3d"layui-input-block"\x3e'+'\x3cdiv id\x3d"{0}" class\x3d"widget-rate"\x3e\x3c/div\x3e'.format(a.tag+a.id),c=c+'\x3cinput name\x3d"{0}" type\x3d"hidden" value\x3d"{1}"\x3e\x3c/input\x3e'.format(a.id,a.defaultValue);return c+"\x3c/div\x3e\x3c/div\x3e"},update:function(a){D.render({elem:"#"+a.tag+a.id,value:a.defaultValue,text:a.text,length:a.rateLength,half:a.half,readonly:a.readonly})},jsonData:function(a,b,c){c=JSON.parse(JSON.stringify(k.rate));c.id=void 0==a?r():a;c.index=b;return c},property:function(a){f("#columnProperty").empty();var b;b=m(a);for(var c in a);f("#columnProperty").append(b)}},carousel:{render:function(a,b){void 0===b&&(b=!1);for(var c='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,b?"active":"",a.index),c=c+'\x3cdiv class\x3d"layui-carousel" id\x3d"{0}"\x3e'.format(a.tag+a.id),c=c+'\x3cdiv carousel-item class\x3d"carousel-item"\x3e',d=0;d<a.options.length;d++)c+='\x3cdiv\x3e\x3cimg src\x3d"{0}" /\x3e\x3c/div\x3e'.format(a.options[d].value);return c+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"},update:function(a){f("#"+a.id).empty();var b;b=""+'\x3cdiv class\x3d"layui-carousel" id\x3d"{0}"\x3e'.format(a.tag+a.id);b+='\x3cdiv carousel-item class\x3d"carousel-item"\x3e';for(var c=0;c<a.options.length;c++)b+='\x3cdiv\x3e\x3cimg src\x3d"{0}" /\x3e\x3c/div\x3e'.format(a.options[c].value);b+="\x3c/div\x3e\x3c/div\x3e";f("#"+a.id).append(b);H.render({elem:"#"+a.tag+a.id,width:a.width,height:a.height,arrow:a.arrow,interval:a.interval,anim:a.anim,autoplay:a.autoplay})},jsonData:function(a,b,c){c=JSON.parse(JSON.stringify(k.carousel));c.id=void 0==a?r():a;c.index=b;return c},property:function(a){f("#columnProperty").empty();var b;b=m(a);for(var c in a);f("#columnProperty").append(b)}},colorpicker:{render:function(a,b){void 0===b&&(b=!1);var c='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,b?"active":"",a.index),c=c+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),c=c+'\x3cdiv class\x3d"layui-input-block"\x3e'+'\x3cdiv id\x3d"{0}" class\x3d"widget-rate"\x3e\x3c/div\x3e'.format(a.tag+a.id),c=c+'\x3cinput name\x3d"{0}" type\x3d"hidden" value\x3d"{1}"\x3e\x3c/input\x3e'.format(a.id,a.defaultValue);return c+"\x3c/div\x3e\x3c/div\x3e"},update:function(a){J.render({elem:"#"+a.tag+a.id,color:a.defaultValue,done:function(b){f("#"+a.id).find("input[name\x3d"+a.id+"]").val(b)}})},jsonData:function(a,b,c){c=JSON.parse(JSON.stringify(k.colorpicker));c.id=void 0==a?r():a;c.index=b;return c},property:function(a){f("#columnProperty").empty();var b;b=m(a);for(var c in a);f("#columnProperty").append(b)}},image:{render:function(a,b){void 0===b&&(b=!1);var c='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,b?"active":"",a.index),c=c+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),c=c+'\x3cdiv class\x3d"layui-input-block"\x3e\x3cdiv class\x3d"layui-upload"\x3e'+'\x3cbutton type\x3d"button" class\x3d"layui-btn" id\x3d"{0}"\x3e\u591a\u56fe\u7247\u4e0a\u4f20\x3c/button\x3e'.format(a.tag+a.id),c=c+'\x3cblockquote class\x3d"layui-elem-quote layui-quote-nm" style\x3d"margin-top: 10px;width: 88%"\x3e\u9884\u89c8\u56fe\uff1a'+'\x3cdiv class\x3d"layui-upload-list uploader-list" style\x3d"overflow: auto;" id\x3d"uploader-list-{0}"\x3e'.format(a.id);return c+"\x3c/div\x3e\x3c/blockquote\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"},jsonData:function(a,b,c){c=JSON.parse(JSON.stringify(k.image));c.id=void 0==a?r():a;c.index=b;return c},property:function(a){f("#columnProperty").empty();var b;b=m(a);for(var c in a);f("#columnProperty").append(b)}},textarea:{render:function(a,b){void 0===b&&(b=!1);var c=a.disabled?'disabled\x3d""':"",d=a.required?'lay-verify\x3d"required"':"",g=a.readonly?'readonly\x3d""':"",e=a.disabled?" layui-disabled":"",f='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item layui-form-text {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,b?"active":"",a.index),f=f+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),f=f+'\x3cdiv class\x3d"layui-input-block"\x3e'.format(a.width),f=f+'\x3ctextarea name\x3d"{0}" placeholder\x3d"{3}" width\x3d"{2}" class\x3d"layui-textarea{6}" {4} {5} {7}\x3e{1}\x3c/textarea\x3e'.format(a.id,a.defaultValue?a.defaultValue:"",a.width,a.placeholder,c,d,e,g);return f+"\x3c/div\x3e\x3c/div\x3e"},update:function(a){var b=a.disabled?'disabled\x3d""':"",c=a.required?'lay-verify\x3d"required"':"",d=a.disabled?" layui-disabled":"",g=a.readonly?'readonly\x3d""':"";f("#"+a.id+" .layui-input-block").empty();f("#"+a.id+" .layui-input-block").css({width:"{0}".format(a.width)});b=""+'\x3ctextarea name\x3d"{0}" placeholder\x3d"{3}" width\x3d"{2}" class\x3d"layui-textarea{6}" {4} {5} {7}\x3e{1}\x3c/textarea\x3e'.format(a.id,a.defaultValue?a.defaultValue:"",a.width,a.placeholder,b,c,d,g);f("#"+a.id+" .layui-input-block").append(b)},jsonData:function(a,b,c){c=JSON.parse(JSON.stringify(k.textarea));c.id=void 0==a?autoId(c.tag):a;c.index=b;return c},property:function(a){f("#columnProperty").empty();var b;b=m(a);for(var c in a);f("#columnProperty").append(b)}},editor:{render:function(a,b){void 0===b&&(b=!1);var c='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item layui-form-text {2}" style\x3d"width: {4}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,b?"active":"",a.index,a.width),c=c+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),c=c+'\x3cdiv class\x3d"layui-input-block"\x3e'+'\x3cdiv id\x3d"{0}"\x3e\x3c/div\x3e'.format(a.tag+a.id);return c+"\x3c/div\x3e\x3c/div\x3e"},update:function(a){var b=E[a.tag+a.id];b.width=a.width;b.height=a.height;b.uploadUrl=a.uploadUrl;b.disabled=a.disabled;b.menu=a.menu;b.create()},jsonData:function(a,b,c){c=JSON.parse(JSON.stringify(k.editor));c.id=void 0==a?autoId(c.tag):a;c.index=b;return c},property:function(a){f("#columnProperty").empty();var b;b=m(a);for(var c in a);f("#columnProperty").append(b)}},grid:{render:function(a,b){void 0===b&&(b=!1);var c='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item layui-row grid {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}" \x3e'.format(a.id,a.tag,b?"active":"",a.index),d="layui-col-md6";3==a.columns.length?d="layui-col-md4":4==a.columns.length?d="layui-col-md3":6==a.columns.length&&(d="layui-col-md2");for(var g=0;g<a.columns.length;g++)c+='\x3cdiv class\x3d"{2} widget-col-list column{0}" data-index\x3d"{0}" data-parentindex\x3d"{1}"\x3e'.format(g,a.index,d),c+="\x3c/div\x3e";return c+"\x3c/div\x3e"},jsonData:function(a,b,c){var d=JSON.parse(JSON.stringify(k.grid));d.id=void 0==a?autoId(d.tag):a;d.index=b;if(2<c)for(a={span:12,list:[]},b=d.columns.length;b<c;b++)d.columns.splice(b,0,a);return d},property:function(a){f("#columnProperty").empty();var b;b=m(a);for(var c in a);f("#columnProperty").append(b)}},file:{render:function(a,b){void 0===b&&(b=!1);var c='\x3cdiv id\x3d"{0}" class\x3d"layui-form-item {2}"  data-id\x3d"{0}" data-tag\x3d"{1}" data-index\x3d"{3}"\x3e'.format(a.id,a.tag,b?"active":"",a.index),c=c+'\x3clabel class\x3d"layui-form-label {0}"\x3e{1}:\x3c/label\x3e'.format(a.required?"layui-form-required":"",a.label),c=c+'\x3cdiv class\x3d"layui-input-block"\x3e\x3cdiv class\x3d"layui-upload"\x3e'+'\x3cbutton type\x3d"button" class\x3d"layui-btn layui-btn-normal" id\x3d"{0}"\x3e\u9009\u62e9\u591a\u6587\u4ef6\x3c/button\x3e '.format(a.tag+a.id),c=c+' \x3cdiv class\x3d"layui-upload-list" style\x3d"max-width: 1000px;"\x3e\x3ctable class\x3d"layui-table"\x3e\x3ccolgroup\x3e\x3ccol\x3e\x3ccol width\x3d"150"\x3e\x3ccol width\x3d"260"\x3e\x3ccol width\x3d"150"\x3e\x3c/colgroup\x3e\x3cthead\x3e\x3ctr\x3e\x3cth\x3e\u6587\u4ef6\u540d\x3c/th\x3e\x3cth\x3e\u5927\u5c0f\x3c/th\x3e\x3cth\x3e\u4e0a\u4f20\u8fdb\u5ea6\x3c/th\x3e\x3cth\x3e\u64cd\u4f5c\x3c/th\x3e\x3c/tr\x3e\x3c/thead\x3e'+'\x3ctbody id\x3d"list-{0}"\x3e\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e'.format(a.id),c=c+'\x3cbutton type\x3d"button" class\x3d"layui-btn" id\x3d"listAction-{0}"\x3e\u5f00\u59cb\u4e0a\u4f20\x3c/button\x3e'.format(a.id);return c+"\x3c/div\x3e\x3c/blockquote\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"},jsonData:function(a,b,c){c=JSON.parse(JSON.stringify(k.file));c.id=void 0==a?r():a;c.index=b;return c},property:function(a){f("#columnProperty").empty();var b;b=m(a);for(var c in a);f("#columnProperty").append(b)}}};p.prototype.addClick=function(a){var b=this,c=b.config;f("#formDesignerForm .layui-form-item").on("click",function(a){a.preventDefault();a.stopPropagation();parseInt(f(this)[0].dataset.index);a=f(this)[0].dataset.id;c.selectItem=b.findJsonItem(c.data,a);a=f(this)[0].dataset.tag;b.components[a].property(c.selectItem);b.bindPropertyEvent();f("#formDesignerForm .layui-form-item").removeClass("active");f(this).addClass("active");a=f(this).children().length;12>=a&&(f("#formDesignerForm .layui-form-item .widget-view-action").remove(),f("#formDesignerForm .layui-form-item .widget-view-drag").remove(),f("#widget-view-action")&&f("#widget-view-action").remove(),f(this).children(a-1).after('\x3cdiv class\x3d"widget-view-action"  id\x3d"widget-view-action"\x3e\x3ci class\x3d"layui-icon layui-icon-file"\x3e\x3c/i\x3e\x3ci class\x3d"layui-icon layui-icon-delete"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-view-drag" id\x3d"widget-view-drag"\x3e\x3ci class\x3d"layui-icon layui-icon-screen-full"\x3e\x3c/i\x3e\x3c/div\x3e'));b.addCopyDeleteClick();q.render();if(0!=c.data.length)for(a=0;a<c.data.length;a++)if("grid"===c.data[a].tag)for(var d=0;d<c.data[a].columns.length;d++)for(var e=0;e<c.data[a].columns[d].list.length;e++)"select"===c.data[a].columns[d].list[e].tag&&f("#"+c.data[a].columns[d].list[e].id+" .layui-input-block div.layui-unselect.layui-form-select").css({width:"{0}".format(c.data[a].columns[d].list[e].width)});else"select"===c.data[a].tag&&f("#"+c.data[a].id+" .layui-input-block div.layui-unselect.layui-form-select").css({width:"{0}".format(c.data[a].width)})})};p.prototype.bindPropertyEvent=function(a){var b=this,c=b.config;void 0!==c.data&&("string"===typeof c.data&&(c.data=JSON.parse(c.data)),f("#columnProperty").find("input,textarea,select,checkbox"),a=c.selectItem,void 0!==a&&(t.render({elem:"#dataMaxValue"+a.tag+a.id,format:"yyyy-MM-dd",btns:["now","confirm"],value:a.dataMaxValue,done:function(c,g,e){a.dataMaxValue=c;b.components[a.tag].update(a)}}),t.render({elem:"#dataMinValue"+a.tag+a.id,format:"yyyy-MM-dd",btns:["now","confirm"],value:a.dataMinValue,done:function(c,g,e){a.dataMinValue=c;b.components[a.tag].update(a)}}),t.render({elem:"#dateDefaultValue"+a.tag+a.id,type:a.datetype,format:a.dateformat,value:a.dateDefaultValue,done:function(c,g,e){a.dateDefaultValue=c;b.components[a.tag].update(a)}}),t.render({elem:"#dateRangeDefaultValue"+a.tag+a.id,type:a.datetype,format:a.dateformat,value:a.dateRangeDefaultValue,range:"-",done:function(c,g,e){a.dateRangeDefaultValue=c;b.components[a.tag].update(a)}}),x.render({elem:"#"+a.tag+a.id+"property",type:"fontClass",search:!0,page:!0,limit:12,cellWidth:"43px",click:function(c){a.buttonIcon=c.icon;b.components[a.tag].update(a)},success:function(a){}}),x.checkIcon(a.tag+a.id+"property",""),f("#menu").click(function(){n.open({type:2,title:"\u5934\u90e8\u83dc\u5355",btn:["\u4fdd\u5b58","\u5173\u95ed"],yes:function(c,g){var d=window["layui-layer-iframe"+c].getCheckData();a.menu=d;b.components[a.tag].update(a);n.close(c)},btn2:function(a,b){n.close(a)},closeBtn:1,shade:[0],area:["80%","80%"],offset:"auto",anim:2,content:["./editorMenu.html","yes"],success:function(a,b){window["layui-layer-iframe"+b].child(Q)}})}),q.on("checkbox",function(c){if("checkbox"===a.tag){for(var d=parseInt(c.elem.closest(".layui-form-item").dataset.index),e=0;e<a.options.length;e++)if(e===d){a.options[e].checked=c.elem.checked;break}b.components[a.tag].update(a)}}),q.on("radio",function(c){if("radio"===a.tag){c=parseInt(c.elem.closest(".layui-form-item").dataset.index);for(var d=0;d<a.options.length;d++)a.options[d].checked=d===c?!0:!1;b.components[a.tag].update(a)}else if("select"===a.tag){c=parseInt(c.elem.closest(".layui-form-item").dataset.index);for(d=0;d<a.options.length;d++)a.options[d].checked=d===c?!0:!1;b.components[a.tag].update(a)}}),q.on("select",function(a){var d=a.elem.name,e=parseInt(a.value),h=c.selectItem;if("columns"===d){var u=h[d].length;a={span:12,list:[]};if(e>u)for(u+=1;u<=e;u++)h[d].splice(u,0,a);else h[d].splice(e,u);b.renderForm()}else"dateformat"===d?("date"===h.tag&&(d='\x3cdiv id\x3d"{0}" class\x3d"layui-input icon-date widget-date" style\x3d"line-height: 40px;"\x3e\x3c/div\x3e'.format("dateDefaultValue"+h.tag+h.id),f("#dateDefaultValue"+h.id+" .layui-input-block").empty(),f("#dateDefaultValue"+h.id+" .layui-input-block").append(d),h.dateformat=a.value,d=t.render({elem:"#dateDefaultValue"+h.tag+h.id,type:h.datetype,format:h.dateformat,value:new Date,done:function(a,c,d){h.dateDefaultValue=a;b.components[h.tag].update(h)}}),h.dateDefaultValue=d.config.elem[0].innerText,b.components[h.tag].update(h)),"dateRange"===h.tag&&(d='\x3cdiv id\x3d"{0}" class\x3d"layui-input icon-date widget-date"\x3e\x3c/div\x3e'.format("dateDefaultValue"+h.tag+h.id),f("#dateDefaultValue"+h.id+" .layui-input-block").empty(),f("#dateDefaultValue"+h.id+" .layui-input-block").append(d),h.dateformat=a.value,d=layui.util.toDateString(new Date,h.dateformat)+" - "+layui.util.toDateString(new Date,h.dateformat),t.render({elem:"#dateRangeDefaultValue"+h.tag+h.id,type:h.datetype,format:h.dateformat,value:d,range:"-",done:function(a,c,d){h.dateRangeDefaultValue=a;b.components[h.tag].update(h)}}),h.dateRangeDefaultValue=d,b.components[h.tag].update(h))):"datetype"===d?("date"===h.tag&&(d='\x3cdiv id\x3d"{0}" class\x3d"layui-input icon-date widget-date" style\x3d"line-height: 40px;"\x3e\x3c/div\x3e'.format("dateDefaultValue"+h.tag+h.id),f("#dateDefaultValue"+h.id+" .layui-input-block").empty(),f("#dateDefaultValue"+h.id+" .layui-input-block").append(d),h.datetype=a.value,d=t.render({elem:"#dateDefaultValue"+h.tag+h.id,type:h.datetype,format:h.dateformat,value:new Date,done:function(a,c,d){h.dateDefaultValue=a;b.components[h.tag].update(h)}}),h.dateDefaultValue=d.config.elem[0].innerText,b.components[h.tag].update(h)),"dateRange"===h.tag&&(d='\x3cdiv id\x3d"{0}" class\x3d"layui-input icon-date widget-date"\x3e\x3c/div\x3e'.format("dateDefaultValue"+h.tag+h.id),f("#dateDefaultValue"+h.id+" .layui-input-block").empty(),f("#dateDefaultValue"+h.id+" .layui-input-block").append(d),h.datetype=a.value,t.render({elem:"#dateRangeDefaultValue"+h.tag+h.id,type:h.datetype,format:h.dateformat,value:h.dateRangeDefaultValue,range:"-",done:function(a,c,d){h.dateRangeDefaultValue=a;b.components[h.tag].update(h)}}),b.components[h.tag].update(h))):"required"===d?(h.expression=a.value,b.components[h.tag].update(h)):"expression"===d?(h.expression=a.value,b.components[h.tag].update(h)):"anim"===d||"arrow"===d?(h[a.elem.name]=a.value,b.components[h.tag].update(h)):"buttonType"===d?(h.buttonType=a.value,b.components[h.tag].update(h)):"buttonSize"===d&&(h.buttonSize=a.value,b.components[h.tag].update(h))}),q.on("switch",function(c){var d=c.elem.name;c=c.elem.checked?!0:!1;if("readonly"===d||"disabled"==d||"required"===d||"half"===d||"text"===d||"switchValue"===d||"isInput"===d||"iconPickerSearch"==d||"iconPickerPage"===d||"isEnter"===d||"isLabel"===d)a[d]=c,b.components[a.tag].update(a)}),a.hasOwnProperty("options")&&(f("#select-option-add").on("click",function(){a.options.splice(a.options.length+1,0,{text:"option",value:"value",checked:!1});var c;c=""+'\x3cdiv class\x3d"layui-form-item option select-options" data-index\x3d"{0}"\x3e'.format(a.options.length-1);c+='  \x3cdiv class\x3d"layui-inline" style\x3d"width: 30px; margin-right: 0px;"\x3e';c="checkbox"===a.tag?c+'   \x3cinput type\x3d"checkbox" name\x3d"{0}" lay-skin\x3d"primary" title\x3d""\x3e'.format(a.tag):c+'   \x3cinput type\x3d"radio" name\x3d"{0}" \x3e'.format(a.tag);c=c+'  \x3c/div\x3e  \x3cdiv class\x3d"layui-inline" style\x3d"margin-right: 0px;width:110px;"\x3e'+'   \x3cinput type\x3d"text" name\x3d"{0}-text"  autocomplete\x3d"off" value\x3d"{1}" class\x3d"layui-input"\x3e'.format(a.tag,"option");c=c+'  \x3c/div\x3e  \x3cdiv class\x3d"layui-inline" style\x3d"margin-right: 0px;width:110px;"\x3e'+'   \x3cinput type\x3d"text" name\x3d"{0}-value"  autocomplete\x3d"off" value\x3d"{1}" class\x3d"layui-input"\x3e'.format(a.tag,"value");c+='  \x3c/div\x3e  \x3cdiv class\x3d"layui-inline" style\x3d"margin-right: 0px;"\x3e   \x3ci class\x3d"layui-icon layui-icon-slider select-option-drag" style\x3d"color:blue;font-size:20px;"\x3e\x3c/i\x3e   \x3ci class\x3d"layui-icon layui-icon-delete select-option-delete" style\x3d"color:red;font-size:20px;"\x3e\x3c/i\x3e  \x3c/div\x3e\x3c/div\x3e';f("#columnProperty .select-options").last().after(c);_html="";"checkbox"===a.tag?(_html+='\x3cinput type\x3d"checkbox" name\x3d"{0}" title\x3d"{1}" \x3e'.format(a.tag,"option"),f("#"+a.id+" .layui-input-block").append(_html)):"radio"===a.tag&&(_html+='\x3cinput type\x3d"radio" name\x3d"{0}" title\x3d"{1}" \x3e'.format(a.tag,"option"),f("#"+a.id+" .layui-input-block").append(_html));"checkbox"===a.tag?q.render("checkbox"):"radio"===a.tag?q.render("radio"):"carousel"==a.tag?(b.components[a.tag].update(a),q.render("radio"),H.render({elem:"#"+item.tag+item.id,width:item.width,arrow:item.arrow})):"select"==a.tag&&q.render("select")}),f(document).off("click","#columnProperty .select-option-delete").on("click","#columnProperty .select-option-delete",function(c){c.preventDefault();c.stopPropagation();if(1>=a.options.length)n.msg("\u5df2\u8fbe\u5230\u6700\u4f4e\u9009\u9879\uff0c\u4e0d\u80fd\u7ee7\u7eed\u5220\u9664");else{c=f(this).closest(".layui-form-item")[0].dataset.index;void 0!==c&&a.options.splice(c,1);for(c=0;c<a.options.length;c++)a.options[c].checked&&(vv=!1);a.options[0].checked=!0;f("#"+a.tag).empty();var d="";for(c=0;c<a.options.length;c++)d+='\x3cdiv class\x3d"layui-form-item option select-options" data-index\x3d"{0}"\x3e'.format(c),d+='  \x3cdiv class\x3d"layui-inline" style\x3d"width: 30px; margin-right: 0px;"\x3e',d="checkbox"===a.tag?a.options[c].checked?d+'   \x3cinput type\x3d"checkbox" name\x3d"{0}" lay-skin\x3d"primary" title\x3d"" checked\x3e'.format(a.tag):d+'   \x3cinput type\x3d"checkbox" name\x3d"{0}" lay-skin\x3d"primary" title\x3d""\x3e'.format(a.tag):a.options[c].checked?d+'   \x3cinput type\x3d"radio" name\x3d"{0}" checked\x3e'.format(a.tag):d+'   \x3cinput type\x3d"radio" name\x3d"{0}"\x3e'.format(a.tag),d+="  \x3c/div\x3e",d+='  \x3cdiv class\x3d"layui-inline" style\x3d"margin-right: 0px;width:110px;"\x3e',d+='   \x3cinput type\x3d"text" name\x3d"{0}-text"  autocomplete\x3d"off" value\x3d"{1}" class\x3d"layui-input"\x3e'.format(a.tag,a.options[c].text),d+="  \x3c/div\x3e",d+='  \x3cdiv class\x3d"layui-inline" style\x3d"margin-right: 0px;width:110px;"\x3e',d+='   \x3cinput type\x3d"text" name\x3d"{0}-value"  autocomplete\x3d"off" value\x3d"{1}" class\x3d"layui-input"\x3e'.format(a.tag,a.options[c].value),d+="  \x3c/div\x3e",d+='  \x3cdiv class\x3d"layui-inline" style\x3d"margin-right: 0px;"\x3e',d+='   \x3ci class\x3d"layui-icon layui-icon-slider select-option-drag" style\x3d"color:blue;font-size:20px;"\x3e\x3c/i\x3e',d+='   \x3ci class\x3d"layui-icon layui-icon-delete select-option-delete" style\x3d"color:red;font-size:20px;"\x3e\x3c/i\x3e',d+="  \x3c/div\x3e",d+="\x3c/div\x3e";f("#"+a.tag).append(d);b.components[a.tag].update(a);"checkbox"===a.tag?q.render("checkbox"):"radio"===a.tag?q.render("radio"):"select"==a.tag&&q.render("select")}})),f(document).off("click",".select-options input[type\x3dcheckbox]").on("click",".select-options input[type\x3dcheckbox]",function(b){var c=[];f("#columnProperty .select-options").each(function(){c.push({text:f(this).find("input[name\x3dselect-text]").val(),value:f(this).find("input[name\x3dselect-value]").val()})});a.options=JSON.parse(JSON.stringify(c))}),f(document).off("keyup","#columnProperty .layui-input").on("keyup","#columnProperty .layui-input",function(){if(void 0!==f(this).attr("name")){var a=f(this).attr("name"),g=f(this).val(),e=c.selectItem;if("id"!==a){"label"===a&&(e[a]=g,f("#"+e.id).find(".layui-form-label").text(g));if("uploadUrl"===a||"cronUrl"===a)e[a]=g;"placeholder"===a&&(e[a]=g,f("#"+e.id).find(".layui-input").attr("placeholder",g));"width"===a&&(e[a]=g,b.components[e.tag].update(e));"height"===a&&(e[a]=g,"editor"===e.tag&&b.components[e.tag].update(e),"carousel"===e.tag&&(e[a]=g,b.components[e.tag].update(e)));"interval"===a&&(e[a]=g,b.components[e.tag].update(e));"iconPickerLimit"===a&&(e[a]=g,b.components[e.tag].update(e));"iconPickerCellWidth"===a&&(e[a]=g,b.components[e.tag].update(e));"buttonVlaue"===a&&(e[a]=g,b.components[e.tag].update(e));"uploadImage"==a&&(e[a]=g,P.build(e.tag+e.id,{height:e.height,uploadImage:g}));if("defaultValue"===a)if(e[a]=g,"slider"===e.tag){var h=b.replaceNumber(g);e[a]=h;f(this).val(h);C.render({elem:"#"+e.tag+e.id,value:e.defaultValue,min:e.minValue,max:e.maxValue,step:e.stepValue,disabled:e.disabled})}else"rate"===e.tag?D.render({elem:"#"+e.tag+e.id,value:e.defaultValue,text:e.text,length:e.rateLength,half:e.half,readonly:e.readonly}):"textarea"==e.tag?f("#"+e.id).find(".layui-textarea").text(g):"colorpicker"==e.tag?b.components[e.tag].update(e):"numberInput"==e.tag?(h=b.replaceNumber(g),e[a]=h,f(this).val(h),b.components[e.tag].update(e)):f("#"+e.id).find(".layui-input").val(g);if("minValue"===a||"maxValue"===a||"stepValue"===a)h=b.replaceNumber(g),e[a]=h,f(this).val(h),"slider"===e.tag?C.render({elem:"#"+e.tag+e.id,value:e.defaultValue,min:e.minValue,max:e.maxValue,step:e.stepValue,disabled:e.disabled}):"numberInput"==e.tag&&b.components[e.tag].update(e);"rateLength"===a&&(e[a]=g,"rate"===e.tag&&D.render({elem:"#"+e.tag+e.id,value:e.defaultValue,text:e.text,length:e.rateLength,half:e.half,readonly:e.readonly}));"document"===a&&(e[a]=g);"readonly"===a&&(e[a]=g,f("#"+e.id).find(".layui-input").attr("readonly",g));if("select-text"===a||"select-value"===a||"radio-text"===a||"radio-value"===a||"checkbox-text"===a||"checkbox-value"===a)g=parseInt(f(this).parent().parent().attr("data-index")),"select-text"===a||"radio-text"===a||"checkbox-text"===a?e.options[g].text=f(this).val():e.options[g].value=f(this).val(),b.components[e.tag].update(e);if("carousel-text"===a||"carousel-value"===a){var u=[];f("#columnProperty .select-options").each(function(){u.push({text:f(this).find("input[name\x3dcarousel-text]").val(),value:f(this).find("input[name\x3dcarousel-value]").val()})});e.options=JSON.parse(JSON.stringify(u));b.components[e.tag].update(e)}}}}),f(document).off("blur","#columnProperty .layui-input").on("blur","#columnProperty .layui-input",function(){if(void 0!==f(this).attr("name")){var a=f(this).attr("name"),g=f(this).val(),e=c.selectItem,h=e.id;"id"===a&&g!==h&&(void 0===b.findJsonItem(c.data,g)?(e[a]=g,b.renderForm()):n.msg("ID\u5df2\u7ecf\u5b58\u5728"))}})))};p.prototype.replaceNumber=function(a){a=a.replace(/[^\d]/g,"");""!=a&&(a=parseInt(a));return a};p.prototype.addCopyDeleteClick=function(){var a=this,b=a.config;void 0!==b.data&&("string"===typeof b.data&&(b.data=JSON.parse(b.data)),f("#formDesignerForm  .layui-form-item .widget-view-action .layui-icon-file").on("click",function(c){c.stopPropagation();void 0!==b.data&&("string"===typeof b.data&&(b.data=JSON.parse(b.data)),c=document.elementFromPoint(c.pageX,c.pageY).parentElement.parentElement.dataset.id,void 0!==c&&(b.selectItem=a.copyJsonAfterItem(b.data,c)),a.renderForm())}),f("#formDesignerForm  .layui-form-item .layui-icon-delete").on("click",function(c){c.stopPropagation();c=document.elementFromPoint(c.pageX,c.pageY).parentElement.parentElement.dataset.id;void 0!==c&&(b.selectItem=a.deleteJsonItem(b.data,c),delete E["editor"+c]);a.renderForm()}))};p.prototype.bindGridSortEvent=function(a){var b=this,c=b.config;a=f("#"+a.id+" .widget-col-list");for(var d=0;d<a.length;d++)Sortable.create(a[d],{group:{name:"formgroup"},handle:".widget-view-drag",ghostClass:"ghost",animation:150,onAdd:function(a){var d=JSON.parse(JSON.stringify(b.findJsonItem(c.data,a.item.parentElement.parentElement.dataset.id))),f=a.newIndex,g=a.item.parentElement.dataset.index;if(void 0!=a.item.dataset.id){var k=JSON.parse(JSON.stringify(b.findJsonItem(c.data,a.item.dataset.id))),l=k.id;k.id=b.autoId(k.tag);k.index=f;d.columns[g].list.splice(f+1,0,k);b.findAndCopyJson(c.data,d,a.item.parentElement.parentElement.dataset.id);b.deleteJsonItem(c.data,l)}else k=a.item.dataset.tag,_id=b.autoId(k),k=b.components[k].jsonData(_id,a.newIndex),k.index=f,d.columns[g].list.splice(f+1,0,k),b.findAndCopyJson(c.data,d,a.item.parentElement.parentElement.dataset.id),c.selectItem=k;b.renderForm()},onEnd:function(a){}})};p.prototype.findAndCopyJson=function(a,b,c){for(var d=0;d<a.length;d++)if(a[d].id===c)a[d]=b;else if("grid"===a[d].tag)for(var f=0;f<a[d].columns.length;f++)0<a[d].columns[f].list.length&&this.findAndCopyJson(a[d].columns[f].list,b,c)};p.prototype.render=function(){var a=this,b=a.config;b.elem=f(b.elem);b.id=b.id||b.elem.attr("id")||a.index;var c="",c=c+'\x3cdiv class\x3d"components-title"\x3e{0} \x3c/div\x3e'.format(k.c1.name),c=c+'\x3cdiv class\x3d"components-draggable" id\x3d"c1"\x3e';f.each(k.c1.list,function(a,b){c+='\x3cdiv class\x3d"components-item" data-tag\x3d"{0}"\x3e\x3cdiv class\x3d"components-body"\x3e\x3ci class\x3d"icon iconfont icon-input"\x3e\x3c/i\x3e{1}\x3c/div\x3e\x3c/div\x3e'.format(b,l[b])});c+="\x3c/div\x3e";c+='\x3cdiv class\x3d"components-title"\x3e{0} \x3c/div\x3e'.format(k.c2.name);c+='\x3cdiv class\x3d"components-draggable" id\x3d"c2"\x3e';f.each(k.c2.list,function(a,b){c+='\x3cdiv class\x3d"components-item" data-tag\x3d"{0}"\x3e\x3cdiv class\x3d"components-body"\x3e\x3ci class\x3d"icon iconfont icon-input"\x3e\x3c/i\x3e{1}\x3c/div\x3e\x3c/div\x3e'.format(b,l[b])});c+="\x3c/div\x3e";c+='\x3cdiv class\x3d"components-title"\x3e{0} \x3c/div\x3e'.format(k.c3.name);c+='\x3cdiv class\x3d"components-draggable" id\x3d"c3"\x3e';f.each(k.c3.list,function(a,b){c+='\x3cdiv class\x3d"components-item" data-tag\x3d"{0}"\x3e\x3cdiv class\x3d"components-body"\x3e\x3ci class\x3d"icon iconfont icon-input"\x3e\x3c/i\x3e{1}\x3c/div\x3e\x3c/div\x3e'.format(b,l[b])});c+="\x3c/div\x3e";c+='\x3cdiv class\x3d"components-title"\x3e{0} \x3c/div\x3e'.format(k.c4.name);c+='\x3cdiv class\x3d"components-draggable" id\x3d"c4"\x3e';f.each(k.c4.list,function(a,b){c+='\x3cdiv class\x3d"components-item" data-tag\x3d"{0}"\x3e\x3cdiv class\x3d"components-body"\x3e\x3ci class\x3d"icon iconfont icon-input"\x3e\x3c/i\x3e{1}\x3c/div\x3e\x3c/div\x3e'.format(b,l[b])});c+="\x3c/div\x3e";c+='\x3cdiv class\x3d"components-title"\x3e{0} \x3c/div\x3e'.format(k.c5.name);c+='\x3cdiv class\x3d"components-draggable" id\x3d"c5"\x3e';f.each(k.c5.list,function(a,b){c+='\x3cdiv class\x3d"components-item" data-tag\x3d"{0}"\x3e\x3cdiv class\x3d"components-body"\x3e\x3ci class\x3d"icon iconfont icon-input"\x3e\x3c/i\x3e{1}\x3c/div\x3e\x3c/div\x3e'.format(b,l[b])});c+="\x3c/div\x3e";b.elem.html('\x3cdiv class\x3d"layui-layout layui-layout-admin"\x3e\x3cdiv class\x3d"layui-header"\x3e\x3cdiv class\x3d"layui-logo"\x3e\u8868\u5355\u8bbe\u8ba1\u5668\x3c/div\x3e\x3c!-- \u5934\u90e8\u533a\u57df\uff08\u53ef\u914d\u5408layui\u5df2\u6709\u7684\u6c34\u5e73\u5bfc\u822a\uff09 --\x3e\x3cul class\x3d"layui-nav layui-layout-left"\x3e\x3cli class\x3d"layui-nav-item"\x3e\x3ca href\x3d""\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3cul class\x3d"layui-nav layui-layout-right"\x3e\x3cli class\x3d"layui-nav-item"\x3e\x3ca id\x3d"saveJson" href\x3d"#" class\x3d"saveJson"\x3e\u4fdd\u5b58\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"layui-nav-item"\x3e\x3ca id\x3d"btnImportJson" href\x3d"#" class\x3d"importJson"\x3e\u5bfc\u5165\u6570\u636e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"layui-nav-item"\x3e\x3ca id\x3d"btnExportJson" href\x3d"#" class\x3d"exportJson"\x3e\u5bfc\u51fa\u6570\u636e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"layui-nav-item"\x3e\x3ca id\x3d"btnTemplateList" href\x3d"#" class\x3d"templateList"\x3e\u6a21\u677f\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"layui-nav-item"\x3e\x3ca href\x3d"#" class\x3d"previewForm"\x3e\u9884\u89c8\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"layui-nav-item"\x3e\x3ca href\x3d"#" class\x3d"generateCode"\x3e\u751f\u6210\u4ee3\u7801\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"layui-side"\x3e\x3cdiv class\x3d"layui-side-scroll" style\x3d"width: 260px;"\x3e\x3c!-- \u5de6\u4fa7\u5bfc\u822a\u533a\u57df\uff08\u53ef\u914d\u5408layui\u5df2\u6709\u7684\u5782\u76f4\u5bfc\u822a\uff09 --\x3e\x3cdiv class\x3d"layui-tab layui-tab-brief" lay-filter\x3d"components-list"\x3e\x3cul class\x3d"layui-tab-title"\x3e\x3cli class\x3d"layui-this"\x3e\u7ec4\u4ef6\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"layui-tab-content"\x3e\x3cdiv class\x3d"layui-tab-item layui-show"\x3e\x3cdiv class\x3d"components-list" id\x3d"components-form-list"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"layui-tab-item components-list" id\x3d"components-form-list"\x3e\u5f00\u53d1\u4e2d...\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"layui-body"\x3e\x3c!-- \u5185\u5bb9\u4e3b\u4f53\u533a\u57df --\x3e\x3cform class\x3d"layui-form layui-form-pane" style\x3d"height:98%;"\x3e\x3cdiv class\x3d"layui-form" id\x3d"formDesignerForm" lay-filter\x3d"formDesignerForm"\x3e\x3cdiv class\x3d"layui-row layui-empty"\x3e\u4ece\u5de6\u4fa7\u62d6\u62fd\u63a7\u4ef6\u5230\u6b64\u8bbe\u8ba1\u533a\u57df\u6765\u6dfb\u52a0\u5b57\u6bb5\x3c/div\x3e\x3c/div\x3e\x3cbutton type\x3d"button" class\x3d"layui-btn" style\x3d"display: none" lay-submit lay-filter\x3d"*"\x3e\u7acb\u5373\u63d0\u4ea4\x3c/button\x3e\x3c/form\x3e\x3c/div\x3e\x3cdiv class\x3d"layui-side-right"\x3e\x3cdiv class\x3d"layui-side-scroll" style\x3d"width: 350px;"\x3e\x3c!-- \u5c5e\u6027\u5bfc\u822a --\x3e\x3cform class\x3d"layui-form  layui-form-pane"\x3e\x3cdiv class\x3d"layui-tab layui-tab-brief" lay-filter\x3d"form-attr"\x3e\x3cul class\x3d"layui-tab-title"\x3e\x3cli class\x3d"layui-this"\x3e\u5b57\u6bb5\u8bbe\u7f6e\x3c/li\x3e\x3cli\x3e\u8868\u5355\u8bbe\u7f6e\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"layui-tab-content"\x3e\x3cdiv class\x3d"layui-tab-item layui-show" id\x3d"columnProperty"\x3e\x3c/div\x3e\x3cdiv class\x3d"layui-tab-item" id\x3d"formProperty"\x3e\x3c!--\u8868\u5355ID--\x3e\x3cdiv class\x3d"layui-form-item"\x3e\x3clabel class\x3d"layui-form-label"\x3e\u8868\u5355ID\x3c/label\x3e\x3cdiv class\x3d"layui-input-block"\x3e\x3cinput type\x3d"text" name\x3d"formId" required\x3d"" lay-verify\x3d"required"placeholder\x3d"\u8bf7\u8f93\u5165\u8868\u5355ID" autocomplete\x3d"off" class\x3d"layui-input"\x3e\x3c/div\x3e\x3c/div\x3e\x3c!--//\u8868\u5355ID--\x3e\x3c!--\u8868\u5355\u540d\u79f0--\x3e\x3cdiv class\x3d"layui-form-item"\x3e\x3clabel class\x3d"layui-form-label"\x3e\u8868\u5355\u540d\u79f0\x3c/label\x3e\x3cdiv class\x3d"layui-input-block"\x3e\x3cinput type\x3d"text" name\x3d"formName" required\x3d"" lay-verify\x3d"required"placeholder\x3d"\u8bf7\u8f93\u5165\u8868\u5355\u540d\u79f0" autocomplete\x3d"off" class\x3d"layui-input"\x3e\x3c/div\x3e\x3c/div\x3e\x3c!--//end--\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/form\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');f("#components-form-list").append(c);f("body").append('\x3cdiv class\x3d"htmlcodeview layui-layer-wrap" style\x3d"display: none;"\x3e\x3ctextarea class\x3d"site-demo-text" id\x3d"generate-code-view"\x3e\x3c/textarea\x3e\x3ca href\x3d"javascript:;" class\x3d"layui-btn layui-btn-normal" style\x3d"margin-right:20px;" id\x3d"copy-html-code"\x3e\u590d\u5236\u4ee3\u7801\x3c/a\x3e\x3c/div\x3e');f("body").append('\x3cdiv class\x3d"importjsoncodeview layui-layer-wrap" style\x3d"display: none;"\x3e\x3ctextarea class\x3d"site-demo-text" id\x3d"import-json-code-view"\x3e\x3c/textarea\x3e\x3ca href\x3d"javascript:;" class\x3d"layui-btn layui-btn-normal" style\x3d"margin-right:20px;" id\x3d"import-json-code"\x3e\u5bfc\u5165\u6570\u636e\x3c/a\x3e\x3c/div\x3e');f("body").append("");Sortable.create(document.getElementById("c1"),{group:{name:"formgroup",pull:"clone",put:!1},ghostClass:"ghost",sort:!1,animation:150,onEnd:function(a){}});Sortable.create(document.getElementById("c2"),{group:{name:"formgroup",pull:"clone",put:!1},sort:!1,animation:150});Sortable.create(document.getElementById("c4"),{group:{name:"formgroup",pull:"clone",put:!1},sort:!1,animation:150});Sortable.create(document.getElementById("c3"),{group:{name:"formgroup",pull:"clone",put:!1},sort:!1,animation:150});Sortable.create(document.getElementById("c5"),{group:{name:"formgroup",pull:"clone",put:!1},sort:!1,animation:150});Sortable.create(document.getElementById("formDesignerForm"),{group:{name:"formgroup"},handle:".widget-view-drag",ghostClass:"ghost",animation:200,onAdd:function(c){var d=c.item.dataset.columncount;void 0===d&&(d=2);if(void 0!==b.data){"string"===typeof b.data&&(b.data=JSON.parse(b.data));0===b.data.length&&(c.newIndex=0);if(void 0!==c.item.dataset.id)d=a.findJsonItem(b.data,c.item.dataset.id),b.selectItem=d,a.deleteJsonItem(b.data,c.item.dataset.id),b.data.splice(c.newIndex+1,0,d);else{var e=a.autoId(c.item.dataset.tag),d=a.components[c.item.dataset.tag].jsonData(e,c.newIndex,d);b.selectItem=d;b.data.splice(c.newIndex,0,d)}a.renderForm()}},onEnd:function(b){"formDesignerForm"===b.to.id&&a.moveItem(b.oldIndex,b.newIndex)}});p.prototype.moveItem=function(a,b){var c=this.config,d=c.data[b];c.data[b]=c.data[a];c.data[a]=d};f(".exportJson").on("click",function(){document.getElementById("generate-code-view").value=JSON.stringify(b.data,null,4);n.open({type:1,title:"JSON \u6570\u636e\u5bfc\u51fa",id:"Lay_layer_htmlcodeview",content:f(".htmlcodeview"),area:["800px","640px"],shade:!1,resize:!1,success:function(a,b){},end:function(){f(".htmlcodeview").css("display","none")}})});f(".importJson").on("click",function(){document.getElementById("import-json-code").value=JSON.stringify(b.data,null,4);n.open({type:1,title:"JSON\u6a21\u677f\u6570\u636e\u5bfc\u5165",id:"Lay_layer_importjsoncodeview",content:f(".importjsoncodeview"),area:["800px","640px"],shade:!1,resize:!1,success:function(a,b){},end:function(){f(".importjsoncodeview").css("display","none")}})});f(".aboutForm").on("click",function(){n.open({type:1,title:"\u5173\u4e8e Layui\u8868\u5355\u8bbe\u8ba1\u5668",id:"Lay_layer_aboutusview",content:f(".aboutusview"),area:["800px","640px"],shade:!1,resize:!1,success:function(a,b){},end:function(){}})});f("#copy-html-code").on("click",function(){document.getElementById("generate-code-view").select();document.execCommand("Copy");n.msg("\u590d\u5236\u6210\u529f")});f("#import-json-code").on("click",function(){var c=document.getElementById("import-json-code-view").value;b.data=JSON.parse(c);a.renderForm();n.closeAll();n.msg("\u5bfc\u5165\u6210\u529f")});f(".generateCode").on("click",function(){b.htmlCode.script="";var c=f('\x3cdiv style\x3d"height:100%;width:100%;"\x3e\x3c/div\x3e');a.generateHtml(b.data,c);c=['\x3c!DOCTYPE html\x3e\x3chtml\x3e\x3chead\x3e\x3cmeta charset\x3d"utf-8"\x3e\x3cmeta name\x3d"viewport" content\x3d"width\x3ddevice-width, initial-scale\x3d1, maximum-scale\x3d1"\x3e\x3ctitle\x3e\u8868\u5355\u8bbe\u8ba1\u5668\u4ee3\u7801\x3c/title\x3e\x3clink rel\x3d"stylesheet" href\x3d"https://www.layuicdn.com/layui-v2.5.6/css/layui.css" /\x3e\x3c/head\x3e\x3cbody\x3e\x3cdiv id\x3d"testdemo" style\x3d"margin: 10px 20px;"\x3e\x3cform  class\x3d"layui-form" style\x3d"height:100%;" id\x3d"formPreviewForm"\x3e',""+c.html()+"",'\x3cdiv class\x3d"layui-form-item"\x3e\x3cdiv class\x3d"layui-input-block"\x3e\x3cbutton type\x3d"submit" class\x3d"layui-btn" lay-submit\x3d"" lay-filter\x3d"formPreviewForm"\x3e\u63d0\u4ea4\x3c/button\x3e\x3cbutton type\x3d"reset" class\x3d"layui-btn layui-btn-primary"\x3e\u91cd\u7f6e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/form\x3e\x3c/div\x3e\x3cscript type\x3d"text/javascript" src\x3d"https://www.layuicdn.com/layui-v2.5.6/layui.js"\x3e\x3c/script\x3e\x3cscript\x3elayui.use(["layer", "laytpl", "element", "form", "slider", "laydate", "rate", "colorpicker", "layedit", "carousel", "upload"], function () {var $ \x3d layui.jquery, layer \x3d layui.layer, laytpl \x3d layui.laytpl, setter \x3d layui.cache, element \x3d layui.element, slider \x3d layui.slider, laydate \x3d layui.laydate, rate \x3d layui.rate, colorpicker \x3d layui.colorpicker, carousel \x3d layui.carousel, form \x3d layui.form, upload \x3d layui.upload, layedit \x3d layui.layedit;',b.htmlCode.script,"});\x3c/script\x3e\x3c/body\x3e\x3c/html\x3e"].join("");document.getElementById("generate-code-view").value=style_html(c,4," ",400);n.open({type:1,title:"HTML\u4ee3\u7801",id:"Lay_layer_htmlcodeview",content:f(".htmlcodeview"),area:["800px","640px"],shade:!1,resize:!1,success:function(a,b){n.style(b,{marginLeft:-220})},end:function(){f(".htmlcodeview").css("display","none")}})});f(".previewForm").on("click",function(){window.localStorage.setItem("layui_form_json",JSON.stringify(b.data));n.open({type:2,title:"\u8868\u5355\u9884\u89c8",btn:["\u5173\u95ed"],btn1:function(a,b){n.close(a)},closeBtn:1,shade:[0],area:["100%","100%"],offset:"auto",anim:2,content:["./preview.html","yes"],end:function(){}})});f(".saveJson").on("click",function(){CoreUtil.sendPut("/activiti-form/setActivitiForm",{id:f("#fromId").val(),formData:JSON.stringify(b.data)},function(a){0===a.code?n.msg(a.msg,{icon:1}):n.msg(a.msg,{icon:2});setTimeout(function(){var a=parent.layer.getFrameIndex(window.name);parent.layer.close(a);parent.location.reload()},1E3)})});a.renderForm()};p.prototype.renderComponents=function(a,b){var c=this,d=c.config;f.each(a,function(a,e){e.index=a;void 0===d.selectItem?b.append(c.components[e.tag].render(e,!1)):d.selectItem.id===e.id?(b.append(c.components[e.tag].render(e,!0)),c.components[e.tag].property(e),c.bindPropertyEvent(e)):b.append(c.components[e.tag].render(e,!1));if("grid"===e.tag)c.bindGridSortEvent(e),f.each(e.columns,function(a,b){var d=f("#"+e.id+" .widget-col-list").filter(".column"+a);0<b.list.length&&c.renderComponents(b.list,d)});else if("slider"===e.tag)C.render({elem:"#"+e.tag+e.id,value:e.defaultValue,min:e.minValue,max:e.maxValue,step:e.stepValue,input:e.isInput,change:function(a){f("#"+e.id).find("input[name\x3d"+e.id+"]").val(a)}});else if("numberInput"===e.tag){L.render({elem:"#"+e.tag+e.id});var g=e.width.replace(/[^\d]/g,"");""!=g&&(g=100-parseInt(g));f("#"+e.id+" .layui-input-block .layui-number-input-btn").css("right",g+"%");e.disabled&&f("#"+e.id+" .layui-input-block .layui-number-input-btn").css("z-index","-1")}else"date"===e.tag?t.render({elem:"#"+e.tag+e.id,type:e.datetype,format:e.dateformat,value:e.dateDefaultValue,min:e.dataMinValue,max:e.dataMaxValue}):"labelGeneration"===e.tag?N.render({elem:"#"+e.tag+e.id,data:e.dateDefaultValue,isEnter:e.isEnter}):"iconPicker"===e.tag?(x.render({elem:"#"+e.tag+e.id,type:"fontClass",search:e.iconPickerSearch,page:e.iconPickerPage,limit:e.iconPickerLimit,cellWidth:e.iconPickerCellWidth,click:function(a){},success:function(a){}}),x.checkIcon(e.tag+e.id,"")):"dateRange"===e.tag?(t.render({elem:"#"+e.tag+e.id,type:e.datetype,format:e.dateformat,min:e.dataMinValue,max:e.dataMaxValue,range:["#start-"+e.tag+e.id,"#end-"+e.tag+e.id]}),null!==e.dateRangeDefaultValue&&""!==e.dateRangeDefaultValue&&void 0!==e.dateRangeDefaultValue&&(g=e.dateRangeDefaultValue.split(" - "),f("#start-"+e.tag+e.id).val(g[0]),f("#end-"+e.tag+e.id).val(g[1]))):"rate"===e.tag?D.render({elem:"#"+e.tag+e.id,value:e.defaultValue,text:e.text,half:e.half,length:e.rateLength,readonly:e.readonly,choose:function(a){f("#"+e.id).find("input[name\x3d"+e.id+"]").val(a)}}):"cron"!==e.tag||e.disabled?"colorpicker"===e.tag?J.render({elem:"#"+e.tag+e.id,color:e.defaultValue,done:function(a){f("#"+e.id).find("input[name\x3d"+e.id+"]").val(a)}}):"editor"===e.tag?(g=new ice.editor(e.tag+e.id),g.width=e.width,g.height=e.height,g.uploadUrl=e.uploadUrl,g.disabled=e.disabled,g.menu=e.menu,g.create(),E[e.tag+e.id]=g):"carousel"===e.tag?H.render({elem:"#"+e.tag+e.id,width:e.width,height:e.height,arrow:e.arrow,interval:e.interval,anim:e.anim,autoplay:e.autoplay}):"image"===e.tag?K.render({elem:"#"+e.tag+e.id,url:"https://httpbin.org/post",multiple:!0,before:function(a){n.msg("\u56fe\u7247\u4e0a\u4f20\u4e2d...",{icon:16,shade:.01,time:0})},done:function(a){n.close(n.msg());f("#uploader-list-"+e.id).append('\x3cdiv id\x3d"" class\x3d"file-iteme"\x3e\x3cdiv class\x3d"handle"\x3e\x3ci class\x3d"layui-icon layui-icon-delete"\x3e\x3c/i\x3e\x3c/div\x3e\x3cimg style\x3d"width: 100px;height: 100px;" src\x3d'+a.data.src+'\x3e\x3cdiv class\x3d"info"\x3e'+a.data.title+"\x3c/div\x3e\x3c/div\x3e")}}):"file"===e.tag&&K.render({elem:"#"+e.tag+e.id,elemList:f("#list-"+e.id),url:""+e.uploadUrl+"",accept:"file",multiple:!0,number:3,auto:!1,bindAction:"#listAction-"+e.id,choose:function(a){var b=this,c=this.files=a.pushFile();a.preview(function(d,e,g){var h=f(['\x3ctr id\x3d"upload-'+d+'"\x3e',"\x3ctd\x3e"+e.name+"\x3c/td\x3e","\x3ctd\x3e"+(e.size/1014).toFixed(1)+"kb\x3c/td\x3e",'\x3ctd\x3e\x3cdiv class\x3d"layui-progress" lay-filter\x3d"progress-demo-'+d+'"\x3e\x3cdiv class\x3d"layui-progress-bar" lay-percent\x3d""\x3e\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e','\x3ctd\x3e\x3cbutton class\x3d"layui-btn layui-btn-xs demo-reload layui-hide"\x3e\u91cd\u4f20\x3c/button\x3e\x3cbutton class\x3d"layui-btn layui-btn-xs layui-btn-danger demo-delete"\x3e\u5220\u9664\x3c/button\x3e\x3c/td\x3e\x3c/tr\x3e'].join(""));h.find(".demo-reload").on("click",function(){a.upload(d,e)});h.find(".demo-delete").on("click",function(){delete c[d];h.remove();uploadListIns.config.elem.next()[0].value=""});b.elemList.append(h);I.render("progress")})},done:function(a,b,c){this.elemList.find("tr#upload-"+b).children().eq(3).html("");delete this.files[b]},allDone:function(a){console.log(a)},error:function(a,b){this.elemList.find("tr#upload-"+a).children().eq(3).find(".demo-reload").removeClass("layui-hide")},progress:function(a,b,c,d){I.progress("progress-demo-"+d,a+"%")}}):M.render({elem:"#"+e.tag+e.id+"-button",url:e.cronUrl,done:function(a){f("#"+e.tag+e.id).val(a)}})})};p.prototype.generateHtml=function(a,b){var c=this,d=c.config;f.each(a,function(a,e){b.append(c.components[e.tag].render(e,!0));"grid"===e.tag?f.each(e.columns,function(a,b){var d=f("#"+e.id+" .widget-col-list").filter(".column"+a);0<b.list.length&&c.generateHtml(b.list,d)}):"slider"===e.tag?d.htmlCode.script+=["slider.render({",,'elem: "#'+e.tag+e.id+'" ,',"value: "+e.defaultValue+",","min: "+e.minValue+",","max: "+e.maxValue+",","step: "+e.stepValue+"","});"].join(""):"date"===e.tag?d.htmlCode.script+=["laydate.render({",'elem: "#'+e.tag+e.id+'" ,','type:"'+e.datetype+'",','btns:["confirm"],','format:"'+e.dateformat+'",','value:"'+e.dateDefaultValue+'",','min:"'+e.dataMinValue+'",','max:"'+e.dataMaxValue+'"});'].join(""):"rate"===e.tag?d.htmlCode.script+=["rate.render({",'elem: "#'+e.tag+e.id+'" ,',"value: "+e.defaultValue+",","text: "+e.text+",","length: "+e.rateLength+",","half: "+e.half+",","readonly: "+e.readonly+",","});"].join(""):"colorpicker"===e.tag?d.htmlCode.script+=["colorpicker.render({",'elem: "#'+e.tag+e.id+'" ,',"done: function (color) {}});"].join(""):"editor"===e.tag?d.htmlCode.script+=["layedit.build("+e.tag+e.id+", {",'height: "'+e.height+'"',"});"].join(""):"carousel"===e.tag?d.htmlCode.script+=["carousel.render({",'elem: "#'+e.tag+e.id+'" ',',width: "'+e.width+'"',',height: "'+e.height+'"',',arrow: "'+e.arrow+'"',',interval: "'+e.interval+'"',',anim: "'+e.anim+'"',',autoplay: "'+e.autoplay+'"',"});"].join(""):"file"===e.tag?d.htmlCode.script+=["upload.render({",'elem: "#'+e.tag+e.id+'" ',', url: "'+e.uploadUrl+'"',' ,elemList: $("#list-'+e.id+'")',',accept: "file",multiple: true,number: 3,auto: false',',bindAction: "#listAction-'+e.id+'"',',choose: function(obj){var that \x3d this;var files \x3d this.files \x3d obj.pushFile();obj.preview(function(index, file, result){var tr \x3d $(["\x3ctr id\x3d"upload-"+ index +""\x3e","\x3ctd\x3e"+ file.name +"\x3c/td\x3e","\x3ctd\x3e"+ (file.size/1014).toFixed(1) +"kb\x3c/td\x3e","\x3ctd\x3e\x3cdiv class\x3d"layui-progress" lay-filter\x3d"progress-demo-"+ index +""\x3e\x3cdiv class\x3d"layui-progress-bar" lay-percent\x3d""\x3e\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e","\x3ctd\x3e","\x3cbutton class\x3d"layui-btn layui-btn-xs demo-reload layui-hide"\x3e\u91cd\u4f20\x3c/button\x3e","\x3cbutton class\x3d"layui-btn layui-btn-xs layui-btn-danger demo-delete"\x3e\u5220\u9664\x3c/button\x3e","\x3c/td\x3e","\x3c/tr\x3e"].join(""));tr.find(".demo-reload").on("click", function(){obj.upload(index, file);});tr.find(".demo-delete").on("click", function(){delete files[index];tr.remove();uploadListIns.config.elem.next()[0].value \x3d ""; });that.elemList.append(tr);element.render("progress");},done: function(res, index, upload){var that \x3d this;if(res.code \x3d\x3d 0){var tr \x3d that.elemList.find("tr#upload-"+ index),tds \x3d tr.children();tds.eq(3).html("");delete this.files[index];return;}this.error(index, upload);},allDone: function(obj){console.log(obj)},error: function(index, upload){var that \x3d this;var tr \x3d that.elemList.find("tr#upload-"+ index),tds \x3d tr.children();tds.eq(3).find(".demo-reload").removeClass("layui-hide");},progress: function(n, elem, e, index){element.progress("progress-demo-"+ index, n + "%");}});'].join(""):"image"===e.tag?d.htmlCode.script+=["upload.render({",'elem: "#'+e.tag+e.id+'" ',', url: "'+e.uploadUrl+'"',', multiple: true, before: function (obj) {layer.msg("\u56fe\u7247\u4e0a\u4f20\u4e2d...", {icon: 16,shade: 0.01,time: 0})}, done: function (res) {layer.close(layer.msg());','$("#uploader-list-'+e.id+'").append(','\'\x3cdiv class\x3d"file-iteme"\x3e\x3cdiv class\x3d"handle"\x3e\x3ci class\x3d"layui-icon layui-icon-delete"\x3e\x3c/i\x3e\x3c/div\x3e\x3cimg style\x3d"width: 100px;height: 100px;" src\x3d"\'+ res.data.src + \'"\x3e\x3cdiv class\x3d"info"\x3e\'+ res.data.title+\'\x3c/div\x3e\x3c/div\x3e\');}});'].join(""):"checkbox"===e.tag&&(d.htmlCode.script+='form.verify({otherReq: function(value,item){var verifyName\x3d$(item).attr("name"), verifyType\x3d$(item).attr("type"),formElem\x3d$(item).parents(".layui-form"),verifyElem\x3dformElem.find("input[name\x3d\'"+verifyName+"\']"),verifyElems \x3d formElem.find("input"),isTrue\x3d verifyElem.is(":checked"),focusElem \x3d verifyElem.next().find("i.layui-icon");for (let i \x3d 0; i \x3c verifyElems.length; i++) {if (verifyElems[i].checked) {return false;}}if(!isTrue || !value){focusElem.css(verifyType\x3d\x3d"radio"?{"color":"#FF5722"}:{"border-color":"#FF5722"});focusElem.first().attr("tabIndex","1").css("outline","0").blur(function() {focusElem.css(verifyType\x3d\x3d\'radio\'?{"color":""}:{"border-color":""});}).focus();return "\u5fc5\u586b\u9879\u4e0d\u80fd\u4e3a\u7a7a";}}});')})};p.prototype.renderForm=function(){var a=this.config,b=f("#formDesignerForm");b.empty();this.renderComponents(a.data,b);void 0!==a.selectItem&&(b=f("#"+a.selectItem.id).children().length,f("#widget-view-action")&&f("#widget-view-action").remove(),f("#"+a.selectItem.id).children(b-1).after('\x3cdiv class\x3d"widget-view-action"  id\x3d"widget-view-action"\x3e\x3ci class\x3d"layui-icon layui-icon-file"\x3e\x3c/i\x3e\x3ci class\x3d"layui-icon layui-icon-delete"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-view-drag" id\x3d"widget-view-drag"\x3e\x3ci class\x3d"layui-icon layui-icon-screen-full"\x3e\x3c/i\x3e\x3c/div\x3e'),f("#formDesignerForm .layui-form-item").removeClass("active"),f("#"+a.selectItem.id).addClass("active"),this.components[a.selectItem.tag].property(a.selectItem),this.bindPropertyEvent(a.selectItem));this.addClick();this.addCopyDeleteClick();q.render();if(0!=a.data.length)for(b=0;b<a.data.length;b++)if("grid"===a.data[b].tag)for(var c=0;c<a.data[b].columns.length;c++)for(var d=0;d<a.data[b].columns[c].list.length;d++)"select"===a.data[b].columns[c].list[d].tag&&f("#"+a.data[b].columns[c].list[d].id+" .layui-input-block div.layui-unselect.layui-form-select").css({width:"{0}".format(a.data[b].columns[c].list[d].width)});else"select"===a.data[b].tag&&f("#"+a.data[b].id+" .layui-input-block div.layui-unselect.layui-form-select").css({width:"{0}".format(a.data[b].width)})};p.prototype.renderPreview=function(){};p.prototype.reload=function(a,b){this.render()};G.render=function(a){a=new p(a);return R.call(a)};layui.link(layui.cache.base+"formDesigner.css?v\x3d1",function(){},"formDesigner");O("formDesigner",G)});