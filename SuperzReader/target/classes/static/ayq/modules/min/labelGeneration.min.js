layui.define(["form"],function(l){var k=layui.form,c=layui.jquery,f=0,m={id:"-1",tag:"label"},g={set:function(a){this.config=c.extend({},this.config,a);return this},on:function(a,d){return layui.onevent.call(this,"labelGeneration",a,d)}},e=function(a){this.config=c.extend({},this.config,g.config,a);this.render()},n=function(){var a=this,d=a.config;return{reload:function(b){a.reload.call(a,b)},getOptions:function(){return d||null},getData:function(){return d.data||null}}};e.prototype.config={version:"1.0.0",Author:"\u8c01\u5bb6\u6ca1\u4e00\u4e2a\u5c0f\u5f3a",generateId:0,data:[],isEnter:!1};e.prototype.autoId=function(a){var d=this.config;d.generateId+=1;return a+"_"+d.generateId};e.prototype.components={label:{render:function(a,d){var b;b='\x3cblockquote class\x3d"layui-elem-quote"\x3e\x3cdiv class\x3d"layui-form layui-form-pane layui-form-item"\x3e\x3clabel class\x3d"layui-form-label"\x3e\u8f93\u5165\u6807\u7b7e\x3c/label\x3e\x3cdiv class\x3d"layui-input-inline"\x3e';b=d.isEnter?b+'\x3cinput type\x3d"text" id\x3d"{0}" lay-verify\x3d"required" placeholder\x3d"\u6309\u56de\u8f66\u751f\u6210\u6807\u7b7e" autocomplete\x3d"off" class\x3d"layui-input"\x3e'.format(a.id):b+'\x3cinput type\x3d"text" id\x3d"{0}" lay-verify\x3d"required" placeholder\x3d"\u901a\u8fc7\u6309\u94ae\u751f\u6210\u6807\u7b7e" autocomplete\x3d"off" class\x3d"layui-input"\x3e'.format(a.id);b+="\x3c/div\x3e";d.isEnter||(b+='\x3cbutton type\x3d"button" id\x3d"{0}-button" class\x3d"layui-btn layui-btn-normal"\x3e\u786e\u5b9a\x3c/button\x3e'.format(a.id));b=b+'\x3clabel class\x3d"layui-form-label"\x3e\u989c\u8272\u9009\u62e9\x3c/label\x3e\x3cdiv class\x3d"layui-input-inline"\x3e'+'\x3cselect lay-filter\x3d"{0}-switchTest"\x3e'.format(a.id);b=b+'\x3coption value\x3d"" selected\x3e\u58a8\u7eff\u8272\x3c/option\x3e\x3coption value\x3d"layui-btn-primary"\x3e\u539f\u59cb\u8272\x3c/option\x3e\x3coption value\x3d"layui-btn-normal"\x3e\u5929\u84dd\u8272\x3c/option\x3e\x3coption value\x3d"layui-btn-warm"\x3e\u6696\u9ec4\u8272\x3c/option\x3e\x3coption value\x3d"layui-btn-danger"\x3e\u7ea2\u8272\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e'+'\x3cdiv id\x3d"{0}-content" class\x3d"layui-btn-container"\x3e\x3c/div\x3e'.format(a.id);return b+"\x3c/blockquote\x3e"},update:function(a){},jsonData:function(a,d){var b=JSON.parse(JSON.stringify(m));b.id=void 0==a?d.autoId(b.tag):a;d.checkId(b,d);return b}}};e.prototype.checkId=function(a,d){0!=c("#"+a.id+"-content").length&&(a.id=d.autoId(a.tag),d.checkId(a))};e.prototype.bindGridSortEvent=function(a){var d=this.config;Sortable.create(document.getElementById(a.id+"-content"),{group:{name:"group"+a.id},animation:1E3,onEnd:function(b){b=c("#"+a.id+"-content").find("div");for(var h=[],f=0;f<b.length;f++)h.push({ngColor:c(b[f]).attr("ng-color"),value:c(b[f]).text()});d.data=h}})};e.prototype.deleteValue=function(a,d){for(var b=this.config,c=0;c<b.data.length;c++)if(b.data[c].value===a&&b.data[c].ngColor===d){b.data.splice(c,1);break}};e.prototype.bindPropertyEvent=function(a){var d=this,b=d.config,h="";b.isEnter?c("#"+a.id).keypress(function(e){if(13===e.which){e=c(this).val();f+=1;var g='\x3cdiv class\x3d"layui-btn {0} none-transition" id\x3d"{2}" ng-index\x3d"{3}" ng-color\x3d"{0}"\x3e{1}\x3ci class\x3d"layui-icon layui-icon-close"\x3e\x3c/i\x3e\x3c/div\x3e'.format(h,e,a.id+f,f);c("#"+a.id+"-content").append(g);b.data.push({ngColor:h,value:e});c("#"+a.id+f+" .layui-icon-close").click(function(){d.deleteValue(c(this).parent().text(),c(this).parent().attr("ng-color"));c(this).parent().remove()})}}):c("#"+a.id+"-button").click(function(e){e=c("#"+a.id).val();f+=1;var g='\x3cdiv class\x3d"layui-btn {0} none-transition" id\x3d"{2}" ng-index\x3d"{3}" ng-color\x3d"{0}"\x3e{1}\x3ci class\x3d"layui-icon layui-icon-close"\x3e\x3c/i\x3e\x3c/div\x3e'.format(h,e,a.id+f,f);c("#"+a.id+"-content").append(g);b.data.push({ngColor:h,value:e});c("#"+a.id+f+" .layui-icon-close").click(function(){d.deleteValue(c(this).parent().text(),c(this).parent().attr("ng-color"));c(this).parent().remove()})});k.on("select("+a.id+"-switchTest)",function(a){h=a.value});for(var e=0;e<b.data.length;e++){f+=1;var g='\x3cdiv class\x3d"layui-btn {0} none-transition" id\x3d"{2}" ng-index\x3d"{3}" ng-color\x3d"{0}"\x3e{1}\x3ci class\x3d"layui-icon layui-icon-close"\x3e\x3c/i\x3e\x3c/div\x3e'.format(b.data[e].ngColor,b.data[e].value,a.id+f,f);c("#"+a.id+"-content").append(g);c("#"+a.id+f+" .layui-icon-close").click(function(){d.deleteValue(c(this).parent().text(),c(this).parent().attr("ng-color"));c(this).parent().remove()})}};e.prototype.renderComponents=function(){var a=this.config,d=c(a.elem);d.empty();var b=this.components.label.jsonData(void 0,this);d.append(this.components.label.render(b,a));this.bindPropertyEvent(b);this.bindGridSortEvent(b);k.render()};e.prototype.reload=function(a){a=a||{};this.config=c.extend({},this.config,g.config,a);this.render()};g.render=function(a){a=new e(a);return n.call(a)};e.prototype.render=function(a){this.renderComponents()};String.prototype.format=function(a){var d=this;if(0<arguments.length)if(1==arguments.length&&"object"==typeof a)for(var b in a){if(void 0!=a[b])var c=new RegExp("({"+b+"})","g"),d=d.replace(c,a[b])}else for(b=0;b<arguments.length;b++)void 0!=arguments[b]&&(c=new RegExp("({["+b+"]})","g"),d=d.replace(c,arguments[b]));return d};l("labelGeneration",g)});